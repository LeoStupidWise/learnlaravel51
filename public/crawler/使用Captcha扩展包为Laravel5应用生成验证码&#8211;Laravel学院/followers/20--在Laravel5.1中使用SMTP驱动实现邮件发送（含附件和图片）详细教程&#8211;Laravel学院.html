<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>在 Laravel 5.1 中使用SMTP驱动实现邮件发送（含附件和图片）详细教程  &#8211;  Laravel学院</title><meta name="keywords" content="Laravel学院,Laravel,Lumen,PHP,PHP框架,文档,教程,中文,资源,学习"><meta name="description" content="Laravel学院致力于提供优质Laravel中文学习资源"><link rel="profile" href="http://gmpg.org/xfn/11"><link rel="pingback" href="http://laravelacademy.org/xmlrpc.php"><link rel="shortcut icon" href="/favicon.png" title="Favicon"><link rel='dns-prefetch' href='//s.w.org' /><link rel="alternate" type="application/rss+xml" title="Laravel学院 &raquo; Feed" href="http://laravelacademy.org/feed" /><link rel="alternate" type="application/rss+xml" title="Laravel学院 &raquo; 评论Feed" href="http://laravelacademy.org/comments/feed" /><link rel="alternate" type="application/rss+xml" title="Laravel学院 &raquo; 在 Laravel 5.1 中使用SMTP驱动实现邮件发送（含附件和图片）详细教程评论Feed" href="http://laravelacademy.org/post/1986.html/feed" />		<script type="text/javascript">			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.2.1\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.2.1\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/laravelacademy.org\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.7.3"}};			!function(a,b,c){function d(a){var b,c,d,e,f=String.fromCharCode;if(!k||!k.fillText)return!1;switch(k.clearRect(0,0,j.width,j.height),k.textBaseline="top",k.font="600 32px Arial",a){case"flag":return k.fillText(f(55356,56826,55356,56819),0,0),!(j.toDataURL().length<3e3)&&(k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57331,65039,8205,55356,57096),0,0),b=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57331,55356,57096),0,0),c=j.toDataURL(),b!==c);case"emoji4":return k.fillText(f(55357,56425,55356,57341,8205,55357,56507),0,0),d=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55357,56425,55356,57341,55357,56507),0,0),e=j.toDataURL(),d!==e}return!1}function e(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i,j=b.createElement("canvas"),k=j.getContext&&j.getContext("2d");for(i=Array("flag","emoji4"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);		</script>		<style type="text/css">img.wp-smiley,img.emoji {	display: inline !important;	border: none !important;	box-shadow: none !important;	height: 1em !important;	width: 1em !important;	margin: 0 .07em !important;	vertical-align: -0.1em !important;	background: none !important;	padding: 0 !important;}</style><link rel='stylesheet' id='font-awesome-css'  href='http://laravelacademy.org/wp-content/themes/wp-knowledge-base/lib/bootstrap/css/font-awesome.css' type='text/css' media='screen' /><link rel='stylesheet' id='wp-pagenavi-css'  href='http://laravelacademy.org/wp-content/plugins/wp-pagenavi/pagenavi-css.css?ver=2.70' type='text/css' media='all' /><link rel='stylesheet' id='ipt_kb-style-css'  href='http://laravelacademy.org/wp-content/themes/wp-knowledge-base/style.css?ver=1.6.0' type='text/css' media='all' /><link rel='stylesheet' id='ipt_kb-bootstrap-css'  href='http://laravelacademy.org/wp-content/themes/wp-knowledge-base/lib/bootstrap/css/bootstrap.min.css?ver=1.6.0' type='text/css' media='all' /><link rel='stylesheet' id='ipt_kb-bootstrap-theme-css'  href='http://laravelacademy.org/wp-content/themes/wp-knowledge-base/lib/bootstrap/css/bootstrap-theme.min.css?ver=1.6.0' type='text/css' media='all' /><link rel='stylesheet' id='ipt_kb-icomoon-css'  href='http://laravelacademy.org/wp-content/themes/wp-knowledge-base/lib/icomoon/style.css?ver=1.6.0' type='text/css' media='all' /><link rel='stylesheet' id='ipt_kb-fix-css'  href='http://laravelacademy.org/wp-content/themes/wp-knowledge-base/lib/fix/fix.css?ver=1.6.0-1.6.3' type='text/css' media='all' /><script type='text/javascript' src='http://laravelacademy.org/wp-includes/js/jquery/jquery.js?ver=1.12.4'></script><script type='text/javascript' src='http://laravelacademy.org/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1'></script><script type='text/javascript' src='http://laravelacademy.org/wp-content/themes/wp-knowledge-base/lib/bootstrap/js/bootstrap.min.js?ver=1.6.0'></script><script type='text/javascript' src='http://laravelacademy.org/wp-content/themes/wp-knowledge-base/lib/bootstrap/js/jquery.ipt-kb-bootstrap.js?ver=1.6.0'></script><script type='text/javascript' src='http://laravelacademy.org/wp-content/themes/wp-knowledge-base/lib/sticky-kit/jquery.sticky-kit.min.js?ver=1.6.0'></script><script type='text/javascript'>/* <![CDATA[ */var iptKBJS = {"ajaxurl":"http:\/\/laravelacademy.org\/wp-admin\/admin-ajax.php","ajax_error":"Oops, some problem to connect. Try again?"};/* ]]> */</script><script type='text/javascript' src='http://laravelacademy.org/wp-content/themes/wp-knowledge-base/js/ipt-kb.js?ver=1.6.0'></script><link rel='https://api.w.org/' href='http://laravelacademy.org/wp-json/' /><link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://laravelacademy.org/xmlrpc.php?rsd" /><link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://laravelacademy.org/wp-includes/wlwmanifest.xml" /> <link rel='prev' title='使用 Laravel 快速构建网站系列 —— Laravel and AngularJS CMS' href='http://laravelacademy.org/post/1972.html' /><link rel='next' title='Laravel Homestead 新版本升级到 MySQL 5.7 和 Node.js 5.0' href='http://laravelacademy.org/post/2000.html' /><meta name="generator" content="WordPress 4.7.3" /><link rel="canonical" href="http://laravelacademy.org/post/1986.html" /><link rel='shortlink' href='http://laravelacademy.org/?p=1986' /><link rel="alternate" type="application/json+oembed" href="http://laravelacademy.org/wp-json/oembed/1.0/embed?url=http%3A%2F%2Flaravelacademy.org%2Fpost%2F1986.html" /><link rel="alternate" type="text/xml+oembed" href="http://laravelacademy.org/wp-json/oembed/1.0/embed?url=http%3A%2F%2Flaravelacademy.org%2Fpost%2F1986.html&#038;format=xml" /><style>.scroll-back-to-top-wrapper {    position: fixed;	opacity: 0;	visibility: hidden;	overflow: hidden;	text-align: center;	z-index: 99999999;    background-color: #e74430;	color: #eeeeee;	width: 50px;	height: 48px;	line-height: 48px;	right: 30px;	bottom: 30px;	padding-top: 2px;	border-top-left-radius: 10px;	border-top-right-radius: 10px;	border-bottom-right-radius: 10px;	border-bottom-left-radius: 10px;	-webkit-transition: all 0.5s ease-in-out;	-moz-transition: all 0.5s ease-in-out;	-ms-transition: all 0.5s ease-in-out;	-o-transition: all 0.5s ease-in-out;	transition: all 0.5s ease-in-out;}.scroll-back-to-top-wrapper:hover {	background-color: #f4645f;  color: #eeeeee;}.scroll-back-to-top-wrapper.show {    visibility:visible;    cursor:pointer;	opacity: 1.0;}.scroll-back-to-top-wrapper i.fa {	line-height: inherit;}.scroll-back-to-top-wrapper .fa-lg {	vertical-align: 0;}</style><script type="text/javascript">	window._wp_rp_static_base_url = 'https://wprp.zemanta.com/static/';	window._wp_rp_wp_ajax_url = "http://laravelacademy.org/wp-admin/admin-ajax.php";	window._wp_rp_plugin_version = '3.6.3';	window._wp_rp_post_id = '1986';	window._wp_rp_num_rel_posts = '5';	window._wp_rp_thumbnails = false;	window._wp_rp_post_title = '%E5%9C%A8+Laravel+5.1+%E4%B8%AD%E4%BD%BF%E7%94%A8SMTP%E9%A9%B1%E5%8A%A8%E5%AE%9E%E7%8E%B0%E9%82%AE%E4%BB%B6%E5%8F%91%E9%80%81%EF%BC%88%E5%90%AB%E9%99%84%E4%BB%B6%E5%92%8C%E5%9B%BE%E7%89%87%EF%BC%89%E8%AF%A6%E7%BB%86%E6%95%99%E7%A8%8B';	window._wp_rp_post_tags = ['laravel', '%E5%9B%BE%E7%89%87', 'swiftmailer', '%E9%85%8D%E7%BD%AE', 'mail', '%E9%82%AE%E4%BB%B6', '%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81', '%E9%99%84%E4%BB%B6', 'smtp', '%E9%82%AE%E4%BB%B6%E5%8F%91%E9%80%81', '%E5%AE%9E%E4%BE%8B%E6%95%99%E7%A8%8B', '%E7%83%AD%E9%97%A8%E5%8C%85', 'null', 'tl', 'flag', 'messag', 'artisan', 'password', 'public', 'encrypt', 'host', 'bs', 'control', 'driver', 'echo', 'gt', 'port'];	window._wp_rp_promoted_content = true;</script><link rel="stylesheet" href="http://laravelacademy.org/wp-content/plugins/wordpress-23-related-posts-plugin/static/themes/modern.css?version=3.6.3" />		<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>		</head><body class="post-template-default single single-post postid-1986 single-format-standard group-blog"><div id="page" class="hfeed site">		<header id="masthead" class="site-header" role="banner">		<nav class="navbar navbar-default navbar-static-top main-navigation" role="navigation" id="site_navigation">			<div class="container">				<!-- Brand and toggle get grouped for better mobile display -->				<div class="navbar-header">					<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">						<span class="sr-only">Toggle navigation</span>						<span class="icon-bar"></span>						<span class="icon-bar"></span>						<span class="icon-bar"></span>					</button>										<a class="site-anchor" href="http://laravelacademy.org/">						<img src="http://laravelacademy.org/wp-content/themes/wp-knowledge-base/logo.png" width="200" height="50" alt="">					</a>									</div>				<!-- Collect the nav links, forms, and other content for toggling -->				<div class="collapse navbar-collapse navbar-ex1-collapse">					<ul id="menu-%e5%af%bc%e8%88%aa%e8%8f%9c%e5%8d%95" class="nav navbar-nav"><li id="menu-item-7" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-7 dropdown"><a title="文档" href="#" data-toggle="dropdown" class="dropdown-toggle">文档 <span class="caret"></span></a><ul role="menu" class=" dropdown-menu">	<li id="menu-item-6676" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-6676"><a title="Laravel 5.4" href="http://laravelacademy.org/laravel-docs-5_4">Laravel 5.4</a></li>	<li id="menu-item-5711" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-5711"><a title="Laravel 5.3" href="http://laravelacademy.org/laravel-docs-5_3">Laravel 5.3</a></li>	<li id="menu-item-2931" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2931"><a title="Laravel 5.2" href="http://laravelacademy.org/laravel-docs-5_2">Laravel 5.2</a></li>	<li id="menu-item-285" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-285"><a title="Laravel 5.1" href="http://laravelacademy.org/laravel-docs-5_1">Laravel 5.1</a></li>	<li id="menu-item-508" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-508"><a title="Lumen" href="http://laravelacademy.org/lumen-docs">Lumen</a></li></ul></li><li id="menu-item-3168" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor menu-item-has-children menu-item-3168 dropdown"><a title="教程" href="#" data-toggle="dropdown" class="dropdown-toggle">教程 <span class="caret"></span></a><ul role="menu" class=" dropdown-menu">	<li id="menu-item-948" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-948"><a title="基础教程" href="http://laravelacademy.org/laravel-tutorial-5_1">基础教程</a></li>	<li id="menu-item-2122" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2122"><a title="博客系列" href="http://laravelacademy.org/tutorials/blog">博客系列</a></li>	<li id="menu-item-3513" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3513"><a title="新特性系列" href="http://laravelacademy.org/tutorials/feature">新特性系列</a></li>	<li id="menu-item-5612" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-5612"><a title="Vue入门教程" href="http://laravelacademy.org/tutorials/vuejs">Vue入门教程</a></li></ul></li><li id="menu-item-671" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor menu-item-has-children menu-item-671 dropdown"><a title="项目" href="#" data-toggle="dropdown" class="dropdown-toggle">项目 <span class="caret"></span></a><ul role="menu" class=" dropdown-menu">	<li id="menu-item-2044" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2044"><a title="网站" href="http://laravelacademy.org/project/website">网站</a></li>	<li id="menu-item-1327" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-1327"><a title="扩展包" href="http://laravelacademy.org/project/packages">扩展包</a></li></ul></li><li id="menu-item-159" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-159 dropdown"><a title="资源" href="#" data-toggle="dropdown" class="dropdown-toggle">资源 <span class="caret"></span></a><ul role="menu" class=" dropdown-menu">	<li id="menu-item-2482" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2482"><a title="设计模式" href="http://laravelacademy.org/resources/design-patterns">设计模式</a></li>	<li id="menu-item-644" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-644"><a title="代码片段" href="http://laravelacademy.org/resources/code">代码片段</a></li>	<li id="menu-item-3187" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3187"><a title="运维部署" href="http://laravelacademy.org/resources/linux">运维部署</a></li>	<li id="menu-item-3178" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3178"><a title="编辑器" href="http://laravelacademy.org/resources/editor">编辑器</a></li>	<li id="menu-item-680" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-680"><a title="工具系列" href="http://laravelacademy.org/resources/tools">工具系列</a></li>	<li id="menu-item-5343" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-5343"><a title="读书笔记" href="http://laravelacademy.org/resources/notebook">读书笔记</a></li>	<li id="menu-item-410" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-410"><a title="相关下载" href="http://laravelacademy.org/resources-download">相关下载</a></li></ul></li><li id="menu-item-4225" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-4225 dropdown"><a title="现代PHP" href="#" data-toggle="dropdown" class="dropdown-toggle">现代PHP <span class="caret"></span></a><ul role="menu" class=" dropdown-menu">	<li id="menu-item-4226" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-4226"><a title="新特性" href="http://laravelacademy.org/modern-php/feature-modern-php">新特性</a></li>	<li id="menu-item-4513" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-4513"><a title="最佳实践" href="http://laravelacademy.org/modern-php/best-practice">最佳实践</a></li>	<li id="menu-item-4496" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-4496"><a title="编码规范" href="https://github.com/PizzaLiu/PHP-FIG">编码规范</a></li>	<li id="menu-item-2397" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2397"><a title="PHP 7" href="http://laravelacademy.org/resources/php7">PHP 7</a></li></ul></li><li id="menu-item-3999" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-3999"><a title="问答" href="http://forum.laravelacademy.org">问答</a></li><li id="menu-item-6268" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-6268"><a title="招聘" href="http://forum.laravelacademy.org/t/job">招聘</a></li><li id="menu-item-599" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-599"><a title="新闻" href="http://laravelacademy.org/news">新闻</a></li><li id="menu-item-6287" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-6287"><a title="投稿" href="http://forum.laravelacademy.org/t/tutorial">投稿</a></li><li id="menu-item-1939" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1939"><a title="捐赠" href="http://laravelacademy.org/donate-us">捐赠</a></li><li id="menu-item-38" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-38"><a title="关于学院" href="http://laravelacademy.org/about-us">关于学院</a></li></ul>				</div>			</div>		</nav>	</header><!-- #masthead -->	<div id="content" class="site-content container">	<ol id="breadcrumbs" class="breadcrumb" xmlns:v="http://rdf.data-vocabulary.org/#">		<li typeof="v:Breadcrumb">		<a rel="v:url" property="v:title" href="http://laravelacademy.org/">首页</a>	</li>																								<li typeof="v:Breadcrumb">					<a rel="v:url" property="v:title" href="http://laravelacademy.org/tutorials">教程</a>				</li>							<li typeof="v:Breadcrumb">			<a rel="v:url" property="v:title" href="http://laravelacademy.org/tutorials/basic">基础教程</a>		</li>		<li class="active" typeof="v:Breadcrumb">			<span property="v:title">在 Laravel 5.1 中使用SMTP驱动实现邮件发送（含附件和图片）详细教程</span>		</li>		</ol>	<div id="primary" class="content-area col-md-8">		<main id="main" class="site-main" role="main">					<article id="post-1986" class="post-1986 post type-post status-publish format-standard has-post-thumbnail hentry category-basic category-packages tag-laravel tag-mail tag-smtp tag-swiftmailer tag-397 tag-396 tag-175 tag-395 tag-12 tag-179">	<header class="entry-header page-header">		<h1 class="entry-title">在 Laravel 5.1 中使用SMTP驱动实现邮件发送（含附件和图片）详细教程</h1>		<div class="entry-meta text-muted">			<span class="posted-on"><i class="glyphicon glyphicon-calendar"></i> Posted on <a href="http://laravelacademy.org/post/1986.html" rel="bookmark"><time class="entry-date published" datetime="2015-11-14T22:45:02+00:00">2015年11月14日</time><time class="updated" datetime="2015-11-14T22:56:20+00:00">2015年11月14日</time></a></span><span class="byline"> by <span class="author vcard"><i class="glyphicon glyphicon-user"></i> <a class="url fn n" href="http://laravelacademy.org/post/author/nonfu">学院君</a></span></span>					</div><!-- .entry-meta -->	</header><!-- .entry-header -->	<div class="entry-content">		<h3 id="ipt_kb_toc_1986_0"><strong>1、<a href="http://laravelacademy.org/tags/%e9%85%8d%e7%bd%ae" title="View all posts in 配置" target="_blank">配置</a>文件</strong></h3><p><a href="http://laravelacademy.org/tags/laravel" title="View all posts in Laravel" target="_blank">Laravel</a>集成了<a href="http://laravelacademy.org/tags/swiftmailer" title="View all posts in SwiftMailer" target="_blank">SwiftMailer</a>库进行<a href="http://laravelacademy.org/tags/%e9%82%ae%e4%bb%b6%e5%8f%91%e9%80%81" title="View all posts in 邮件发送" target="_blank">邮件发送</a>，<a href="http://laravelacademy.org/tags/%e9%82%ae%e4%bb%b6" title="View all posts in 邮件" target="_blank">邮件</a>配置文件位于<code>config/mail.php</code>：</p><pre>return [    'driver' =&gt; env('MAIL_DRIVER', 'smtp'),    'host' =&gt; env('MAIL_HOST', 'smtp.mailgun.org'),    'port' =&gt; env('MAIL_PORT', 587),    'from' =&gt; ['address' =&gt; null, 'name' =&gt; null],    'encryption' =&gt; env('MAIL_ENCRYPTION', 'tls'),    'username' =&gt; env('MAIL_USERNAME'),    'password' =&gt; env('MAIL_PASSWORD'),    'sendmail' =&gt; '/usr/sbin/sendmail -bs',    'pretend' =&gt; false,]</pre><p><code>driver</code>用于配置默认的邮件发送驱动，Laravel支持多种邮件驱动方式，包括<code>smtp</code>、<code><a href="http://laravelacademy.org/tags/mail" title="View all posts in Mail" target="_blank">Mail</a>gun</code>、<code>Maildrill</code>、<code>Amazon SES</code>、<code>mail</code>和<code>sendmail</code>，Mailgun和Amazon SES都是收费的，Maildrill目前不支持中国区用户，这三个都是第三方邮件服务。<code>mail</code>驱动使用PHP提供的<code>mail</code>函数发送，<code>sendmail</code>驱动通过Sendmail/Postfix（Linux）提供的命令发送邮件，<code>smtp</code>驱动通过支持E<a href="http://laravelacademy.org/tags/smtp" title="View all posts in SMTP" target="_blank">SMTP</a>的SMTP发送邮件。</p><blockquote><p>注：ESMTP即Extended SMTP， 是对标准 SMTP 协议进行的扩展，它与 SMTP 服务的区别仅仅是，使用 SMTP 发信不需要验证用户帐户，而用 ESMTP 发信时，服务器会要求用户提供用户名和密码以便验证身份。</p></blockquote><p>就目前状况来看，使用<code>smtp</code>是最明智的选择，<code>mail</code>不安全，<code>sendmail</code>需要安装配置Sendmail/Postfix，其他要么付费要么不能用（汗！）。下面其它配置的说明都基于<code>driver</code>是<code>smtp</code>。</p><p>接下来其他的配置都好理解，<code>host</code>是邮箱所在主机，比如我们使用163邮箱，对应值是<code>smtp.163.com</code>，使用QQ邮箱的话，对应值是<code>smtp.qq.com</code>。</p><p><code>port</code>用于配置邮箱发送服务端口号，比如一般默认值是<code>25</code>，但如果设置SMTP使用SSL加密，该值为<code>465</code>。</p><p><code>from</code>配置项包含<code>address</code>和<code>name</code>，前者表示发送邮箱，后者表示发送邮件使用的用户名。</p><p><code>encryption</code>表示加密类型，可以设置为<code>null</code>表示不使用任何加密，也可以设置为<code>tls</code>/<code>ssl</code>。</p><p><code>username</code>表示邮箱账号，比如yaojinbu@163.com</p><p><code>password</code>表示上述邮箱登录对应登录密码。</p><p><code>sendmail</code>是在设置<code>driver</code>为<code>sendmail</code>时使用，用于指定<code>sendmail</code>命令路径。</p><p><code>pretend</code>用于配置是否将邮件发送记录到日志中，默认为<code>false</code>则发送邮件不记录日志，如果为<code>true</code>的话只记录日志不发送邮件，这一配置在本地开发中调试时很有用。</p><p>根据你的邮箱服务及邮箱账号填写该配置文件，当然很多配置值需要在<code>.env</code>中设置。</p><h3 id="ipt_kb_toc_1986_1"><strong>2、定义路由</strong></h3><p>为我们的测试在<code>routes.php</code>定义路由规则：</p><pre>Route::get('mail/send','MailController@send');</pre><h3 id="ipt_kb_toc_1986_2"><strong>3、邮件发送逻辑实现</strong></h3><h4 id="ipt_kb_toc_1986_3"><strong>创建控制器</strong></h4><p>接下来创建匹配路由的控制器，使用如下命令创建一个干净的<code>MailController</code>：</p><pre>php artisan make:controller MailController --plain</pre><p>在<code>app/Http/Controllers</code>目录下生成一个新的控制器<code>MailController</code>：</p><pre>&lt;?phpnamespace App\Http\Controllers;use Illuminate\Http\Request;use App\Http\Requests;use App\Http\Controllers\Controller;class MailController extends Controller{    //}</pre><h4 id="ipt_kb_toc_1986_4"><strong>简单邮件发送实现</strong></h4><p>在该控制器中添加邮件发送动作<code>send()</code>，我们使用<code>Mail</code>门面的<code>send</code>方法发送邮件，我们先发送一个最简单的邮件：</p><pre>&lt;?phpnamespace App\Http\Controllers;use Illuminate\Http\Request;use App\Http\Requests;use App\Http\Controllers\Controller;use Mail;class MailController extends Controller{    public function send()    {        $name = '学院君';        $flag = Mail::send('emails.test',['name'=&gt;$name],function($message){            $to = '1072155122@qq.com';            $message -&gt;to($to)-&gt;subject('测试邮件');        });        if($flag){            echo '发送邮件成功，请查收！';        }else{            echo '发送邮件失败，请重试！';        }    }}</pre><p><code>Mail::send</code>需要传递三个参数，第一个是邮件视图，第二个是传入视图的数据，第三个是一个闭包，该闭包中定义了收件人、抄送人（如果有的话）、邮件主题、<a href="http://laravelacademy.org/tags/%e9%99%84%e4%bb%b6" title="View all posts in 附件" target="_blank">附件</a>等信息。邮件的主体内容位于局部视图中，下面我们就来定义这个局部视图，在<code>resources/views/emails</code>目录下新建<code>test.blade.php</code>，编辑其内容如下：</p><pre>{{$name}}，这是一封测试邮件</pre><p>然后我们就可以在浏览器中访问<code>http://laravel.app:8000/mail/send</code>发送邮件，如果页面显示邮件发送成功，那么到收件人邮箱就能收到邮件了：</p><p><img class="alignnone size-full wp-image-1987" src="http://laravelacademy.org/wp-content/uploads/2015/11/2015-11-14_200114.jpg" alt="Laravel简单邮件发送" width="686" height="153" srcset="http://laravelacademy.org/wp-content/uploads/2015/11/2015-11-14_200114.jpg 686w, http://laravelacademy.org/wp-content/uploads/2015/11/2015-11-14_200114-300x67.jpg 300w" sizes="(max-width: 686px) 100vw, 686px" /></p><h4 id="ipt_kb_toc_1986_5"><strong>更简单的纯文本邮件发送</strong></h4><p>上面的示例仅仅是发送一个字符串，对于纯文本字符串邮件发送，还有更简单的方法：</p><pre>Mail::raw('这是一封测试邮件', function ($message) {    $to = '1072155122@qq.com';    $message -&gt;to($to)-&gt;subject('测试邮件');});</pre><p>这样的话无需创建视图即可完成邮件发送。</p><h4 id="ipt_kb_toc_1986_6"><strong>发送带附件的邮件（<a href="http://laravelacademy.org/tags/%e4%b8%ad%e6%96%87%e4%b9%b1%e7%a0%81" title="View all posts in 中文乱码" target="_blank">中文乱码</a>解决）</strong></h4><p>当然，邮件内容往往不仅仅是纯文本这么简单，有时候我们会在邮件中加上附件，那么这该如何实现呢？</p><p>先上代码：</p><pre>$flag = Mail::send('emails.test',['name'=&gt;$name],function($message){    $to = '1072155122@qq.com';    $message-&gt;to($to)-&gt;subject('测试邮件');    $attachment = storage_path('app/files/test.doc');    //在邮件中上传附件    $message-&gt;attach($attachment,['as'=&gt;'测试文档.doc']);});</pre><p>从代码可知我们使用闭包中<code>$message</code>实例上的<code>attach</code>方法上传附件，该方法第一个参数是附件地址，第二个参数是一些额外参数，这里我们通过<code>as</code>指定附件在邮件中的显示名称。</p><blockquote><p>注：需要注意的是<code>$message</code>实际上是<code>Illuminate\Mail\Message</code>的实例，我们可以在<code>$message</code>上调用<code>Message</code>类的所有方法。</p></blockquote><p>再次访问<code>http://laravel.app:8000/mail/send</code>发送邮件，这样在收件箱中可以看到附件，但附件名称出现中文乱码，解决办法如下：</p><pre>$message-&gt;attach($attachment,['as'=&gt;"=?UTF-8?B?".base64_encode('测试文档')."?=.doc"]);</pre><p>通过这样处理后，就不会有中文乱码出现了：</p><p><img class="alignnone size-full wp-image-1988" src="http://laravelacademy.org/wp-content/uploads/2015/11/2015-11-14_220221.jpg" alt="Laravel发送带附件的邮件" width="553" height="365" srcset="http://laravelacademy.org/wp-content/uploads/2015/11/2015-11-14_220221.jpg 553w, http://laravelacademy.org/wp-content/uploads/2015/11/2015-11-14_220221-300x198.jpg 300w" sizes="(max-width: 553px) 100vw, 553px" /></p><h4 id="ipt_kb_toc_1986_7"><strong>发送带<a href="http://laravelacademy.org/tags/%e5%9b%be%e7%89%87" title="View all posts in 图片" target="_blank">图片</a>的邮件</strong></h4><p><strong>embed</strong></p><p>除了附件之外，有时候为了让邮件内容更丰富，还会在邮件内容中插入图片，我们固然可以在邮件视图中硬编码写入图片路径，但是这显然很笨重，灵活性很差，Laravel为我们提供了便捷方法——在视图中使用<code>$message</code>上的<code>embed</code>方法：</p><pre>{{$name}}，这是一封测试邮件&lt;br&gt;&lt;img src="{{$message-&gt;embed($imgPath)}}"&gt;</pre><p>这里的<code>$message</code>就是上述邮件发送闭包中的<code>$message</code>，Laravel内部自动将该变量传递到邮件视图。当然我们还需要在控制器动作中传入<code>$imgPath</code>变量：</p><pre>$name = '学院君';$imgPath = 'http://laravelacademy.org/wp-statics/images/carousel/LaravelAcademy.jpg';$flag = Mail::send('emails.test',['name'=&gt;$name,'imgPath'=&gt;$imgPath],function($message){    $to = '1072155122@qq.com';    $message-&gt;to($to)-&gt;subject('测试邮件');    $attachment = storage_path('app/files/test.doc');    //在邮件中上传附件    $message-&gt;attach($attachment,['as'=&gt;"=?UTF-8?B?".base64_encode('测试文档')."?=.doc"]);});</pre><p>在浏览器中访问<code>http://laravel.app:8000/mail/send</code>发送邮件，邮件发送成功后去收件箱查看：</p><p><img class="alignnone size-full wp-image-1989" src="http://laravelacademy.org/wp-content/uploads/2015/11/2015-11-14_221343.jpg" alt="Laravel发送带图片的邮件" width="835" height="626" srcset="http://laravelacademy.org/wp-content/uploads/2015/11/2015-11-14_221343.jpg 835w, http://laravelacademy.org/wp-content/uploads/2015/11/2015-11-14_221343-300x225.jpg 300w" sizes="(max-width: 835px) 100vw, 835px" /></p><p>由此可见，图片已经插入到邮件内容中。</p><p><strong>embedData</strong></p><p>此外还支持发送原生的图片数据到邮件中，即将本地图片读取到内存然后渲染到邮件视图，这可以通过<code>$message</code>上的<code>embedData</code>实现。</p><p>首先我们修改控制器动作如下：</p><pre>$name = '学院君';//$imgPath = 'http://laravelacademy.org/wp-statics/images/carousel/LaravelAcademy.jpg';$image = Storage::get('images/test.jpg');$flag = Mail::send('emails.test',['name'=&gt;$name,'image'=&gt;$image],function($message){    $to = '1072155122@qq.com';    $message-&gt;to($to)-&gt;subject('测试邮件');    $attachment = storage_path('app/files/test.doc');    //在邮件中上传附件    $message-&gt;attach($attachment,['as'=&gt;"=?UTF-8?B?".base64_encode('测试文档')."?=.doc"]);});</pre><p>记得在<code>MailController</code>顶部加上<code>use Storage</code>，然后修改邮件视图<code>test.blade.php</code>如下：</p><pre>{{$name}}，这是一封测试邮件&lt;br&gt;&lt;img src="{{$message-&gt;embedData($image,'LaravelAcademy.jpg')}}"&gt;</pre><p>最后去浏览器中访问http://laravel.app:8000/mail/send发送邮件，邮件发送成功去收件箱查看邮件内容：</p><p><img class="alignnone size-full wp-image-1990" src="http://laravelacademy.org/wp-content/uploads/2015/11/2015-11-14_222412.jpg" alt="Laravel发送带图片的邮件" width="683" height="407" srcset="http://laravelacademy.org/wp-content/uploads/2015/11/2015-11-14_222412.jpg 683w, http://laravelacademy.org/wp-content/uploads/2015/11/2015-11-14_222412-300x179.jpg 300w" sizes="(max-width: 683px) 100vw, 683px" /></p><p>同样可以成功插入图片。</p>			</div><!-- .entry-content -->	<footer class="entry-meta text-muted well well-sm">		分类： <i class="glyphicon glyphicon-folder-open"></i>&nbsp;&nbsp;<a href="http://laravelacademy.org/tutorials/basic" rel="category tag">基础教程</a>, <a href="http://laravelacademy.org/project/packages" rel="category tag">扩展包</a> <div class="clearfix"></div>                        标签： <i class="glyphicon glyphicon-tags"></i>&nbsp;&nbsp;<a href="http://laravelacademy.org/tags/laravel" rel="tag">Laravel</a>, <a href="http://laravelacademy.org/tags/mail" rel="tag">Mail</a>, <a href="http://laravelacademy.org/tags/smtp" rel="tag">SMTP</a>, <a href="http://laravelacademy.org/tags/swiftmailer" rel="tag">SwiftMailer</a>, <a href="http://laravelacademy.org/tags/%e4%b8%ad%e6%96%87%e4%b9%b1%e7%a0%81" rel="tag">中文乱码</a>, <a href="http://laravelacademy.org/tags/%e5%9b%be%e7%89%87" rel="tag">图片</a>, <a href="http://laravelacademy.org/tags/%e9%82%ae%e4%bb%b6" rel="tag">邮件</a>, <a href="http://laravelacademy.org/tags/%e9%82%ae%e4%bb%b6%e5%8f%91%e9%80%81" rel="tag">邮件发送</a>, <a href="http://laravelacademy.org/tags/%e9%85%8d%e7%bd%ae" rel="tag">配置</a>, <a href="http://laravelacademy.org/tags/%e9%99%84%e4%bb%b6" rel="tag">附件</a><div class="clearfix"></div>                        <div class="share-jiathis"><span class="share-jiathis-label">分享：</span><div class="jiathis_style">	<a class="jiathis_button_weixin"></a>	<a class="jiathis_button_tsina"></a>	<a class="jiathis_button_qzone"></a>	<a class="jiathis_button_douban"></a>	<a class="jiathis_button_googleplus"></a>	<a class="jiathis_button_fb"></a>	<a class="jiathis_button_twitter"></a>	<a class="jiathis_button_evernote"></a>	<a class="jiathis_button_ydnote"></a>	<a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>	<a class="jiathis_counter_style"></a></div></div><div class="clearfix"></div>                        <div>声明： 原创文章，未经允许，禁止转载！</div>	</footer><!-- .entry-meta --></article><!-- #post-## -->			<p class="hidden-xs">	<span class="ipt_kb_like_article_info pull-right text-info"><i class="glyphicon glyphicon-fire"></i>&nbsp;&nbsp;20 人觉得这篇文章很有用</span>	<button type="button" data-loading-text="请稍等" class="btn btn-success ipt_kb_like_article" data-postid="1986" data-nonce="2e1b7f3a90">		<i class="glyphicon glyphicon-thumbs-up"></i> <span class="text">这篇文章对我很有帮助</span>	</button></p><p class="visible-xs">	<button type="button" data-loading-text="请稍等" class="btn btn-success btn-block ipt_kb_like_article" data-postid="1986" data-nonce="2e1b7f3a90">		<i class="glyphicon glyphicon-thumbs-up"></i> <span class="text">这篇文章对我很有帮助</span>	</button></p><p class="ipt_kb_like_article_info text-info text-center visible-xs"><i class="glyphicon glyphicon-fire"></i>&nbsp;&nbsp;20 觉得这篇文章很有用</p>					<ul role="navigation" id="nav-below" class="post-navigation pager">		<li class="screen-reader-text">Post navigation</li>			<li class="nav-previous previous"><a href="http://laravelacademy.org/post/1947.html" rel="prev"><span class="meta-nav"><span class="glyphicon glyphicon-arrow-left"></span></span> 使用 Laravel 5.1 内置的本地化功能轻松实现多语言支持</a></li>		<li class="nav-next next"><a href="http://laravelacademy.org/post/2012.html" rel="next">Laravel 队列系列 —— 基于 Redis 实现任务队列的基本配置和使用 <span class="meta-nav"><span class="glyphicon glyphicon-arrow-right"></span></span></a></li>		</ul><!-- #nav-below -->				<div class="well author-meta">	<div class="author-avatar text-center pull-left">		<a href="http://laravelacademy.org/post/author/nonfu"><img alt='' src='http://0.gravatar.com/avatar/699bfa8486547de4b21d7984876627f6?s=96&#038;d=retro&#038;r=g' srcset='http://0.gravatar.com/avatar/699bfa8486547de4b21d7984876627f6?s=192&amp;d=retro&amp;r=g 2x' class='avatar avatar-96 photo' height='96' width='96' /></a>	</div>	<h4 class="author-meta-title">		学院君 has written <a href="http://laravelacademy.org/post/author/nonfu">614</a> articles	</h4>	<div class="author-meta-bio">		<p>资深PHP工程师，Laravel学院院长</p>	</div>	<div class="author-meta-buttons text-right">		<div class="btn-group">																					<a href="http://laravelacademy.org" class="btn btn-info bstooltip" title="Website"><span class="glyphicon ipt-icon-home"></span></a>																																										</div>	</div>	<div class="clearfix"></div></div>											<div class="google-ads" style="margin-bottom:8px;"><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><!-- Laravel学院详情页底部横幅广告 --><ins class="adsbygoogle"     style="display:inline-block;width:728px;height:90px"     data-ad-client="ca-pub-6544917749399342"     data-ad-slot="4898369711"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script>				</div>			            <!-- 多说评论框 start -->                        <!-- 多说评论框 end -->	        	<div id="comments" class="comments-area">				<h4 class="comments-title">			58 thoughts on &ldquo;<span>在 Laravel 5.1 中使用SMTP驱动实现邮件发送（含附件和图片）详细教程</span>&rdquo;		</h4>		<ol class="comment-list">				<li id="comment-12439" class="comment even thread-even depth-1 parent">		<article id="div-comment-12439" class="comment-body panel panel-default">			<div class="panel-heading comment-meta">				<div class="comment-author vcard pull-left">					<img alt='' src='http://2.gravatar.com/avatar/e2727020a43e77c5b23fa23df1ad39ef?s=32&#038;d=retro&#038;r=g' srcset='http://2.gravatar.com/avatar/e2727020a43e77c5b23fa23df1ad39ef?s=64&amp;d=retro&amp;r=g 2x' class='avatar avatar-32 photo' height='32' width='32' />					<cite class="fn">独白</cite> <span class="says">says:</span>				</div><!-- .comment-author -->								<div class="clearfix"></div>			</div>			<div class="comment-content panel-body">				<p>Failed to authenticate on SMTP server with username &#8220;xxxxxxx@qq.com&#8221; using 1 possible authenticators<br />我的信息是在.env里面配的，密码也换成授权码了，这个错误是什么原因</p>			</div>			<div class="panel-footer">				<div class="pull-right">					<div class="reply text-right"><a rel='nofollow' class='comment-reply-link btn btn-info btn-sm' href='http://laravelacademy.org/post/1986.html?replytocom=12439#respond' onclick='return addComment.moveForm( "div-comment-12439", "12439", "respond", "1986" )' aria-label='回复给独白'><i class="glyphicon ipt-icon-reply"></i>&nbsp;&nbsp;回复</a></div>				</div>				<div class="comment-metadata">					<a href="http://laravelacademy.org/post/1986.html/comment-page-2#comment-12439">						<time datetime="2017-03-15T16:48:29+00:00">							<i class="glyphicon glyphicon-calendar"></i>&nbsp;&nbsp;2017年3月15日 at 下午4:48						</time>					</a>									</div><!-- .comment-metadata -->				<div class="clearfix"></div>			</div>		</article><!-- .comment-body -->	<ol class="children">	<li id="comment-12441" class="comment odd alt depth-2 parent">		<article id="div-comment-12441" class="comment-body panel panel-default">			<div class="panel-heading comment-meta">				<div class="comment-author vcard pull-left">					<img alt='' src='http://2.gravatar.com/avatar/e2727020a43e77c5b23fa23df1ad39ef?s=32&#038;d=retro&#038;r=g' srcset='http://2.gravatar.com/avatar/e2727020a43e77c5b23fa23df1ad39ef?s=64&amp;d=retro&amp;r=g 2x' class='avatar avatar-32 photo' height='32' width='32' />					<cite class="fn">独白</cite> <span class="says">says:</span>				</div><!-- .comment-author -->								<div class="clearfix"></div>			</div>			<div class="comment-content panel-body">				<p>刚刚是smtp服务开了后忘了保存了，现在是报这个错误了<br />Cannot send message without a sender address</p>			</div>			<div class="panel-footer">				<div class="pull-right">					<div class="reply text-right"><a rel='nofollow' class='comment-reply-link btn btn-info btn-sm' href='http://laravelacademy.org/post/1986.html?replytocom=12441#respond' onclick='return addComment.moveForm( "div-comment-12441", "12441", "respond", "1986" )' aria-label='回复给独白'><i class="glyphicon ipt-icon-reply"></i>&nbsp;&nbsp;回复</a></div>				</div>				<div class="comment-metadata">					<a href="http://laravelacademy.org/post/1986.html/comment-page-2#comment-12441">						<time datetime="2017-03-15T17:20:44+00:00">							<i class="glyphicon glyphicon-calendar"></i>&nbsp;&nbsp;2017年3月15日 at 下午5:20						</time>					</a>									</div><!-- .comment-metadata -->				<div class="clearfix"></div>			</div>		</article><!-- .comment-body -->	<ol class="children">	<li id="comment-12442" class="comment even depth-3">		<article id="div-comment-12442" class="comment-body panel panel-default">			<div class="panel-heading comment-meta">				<div class="comment-author vcard pull-left">					<img alt='' src='http://2.gravatar.com/avatar/e2727020a43e77c5b23fa23df1ad39ef?s=32&#038;d=retro&#038;r=g' srcset='http://2.gravatar.com/avatar/e2727020a43e77c5b23fa23df1ad39ef?s=64&amp;d=retro&amp;r=g 2x' class='avatar avatar-32 photo' height='32' width='32' />					<cite class="fn">独白</cite> <span class="says">says:</span>				</div><!-- .comment-author -->								<div class="clearfix"></div>			</div>			<div class="comment-content panel-body">				<p>&#8230;解决了</p>			</div>			<div class="panel-footer">				<div class="pull-right">					<div class="reply text-right"><a rel='nofollow' class='comment-reply-link btn btn-info btn-sm' href='http://laravelacademy.org/post/1986.html?replytocom=12442#respond' onclick='return addComment.moveForm( "div-comment-12442", "12442", "respond", "1986" )' aria-label='回复给独白'><i class="glyphicon ipt-icon-reply"></i>&nbsp;&nbsp;回复</a></div>				</div>				<div class="comment-metadata">					<a href="http://laravelacademy.org/post/1986.html/comment-page-2#comment-12442">						<time datetime="2017-03-15T17:27:18+00:00">							<i class="glyphicon glyphicon-calendar"></i>&nbsp;&nbsp;2017年3月15日 at 下午5:27						</time>					</a>									</div><!-- .comment-metadata -->				<div class="clearfix"></div>			</div>		</article><!-- .comment-body -->	</li><!-- #comment-## --></ol><!-- .children --></li><!-- #comment-## --></ol><!-- .children --></li><!-- #comment-## -->	<li id="comment-10942" class="comment odd alt thread-odd thread-alt depth-1 parent">		<article id="div-comment-10942" class="comment-body panel panel-default">			<div class="panel-heading comment-meta">				<div class="comment-author vcard pull-left">					<img alt='' src='http://2.gravatar.com/avatar/?s=32&#038;d=retro&#038;r=g' srcset='http://1.gravatar.com/avatar/?s=64&amp;d=retro&amp;r=g 2x' class='avatar avatar-32 photo avatar-default' height='32' width='32' />					<cite class="fn">滔滔不绝</cite> <span class="says">says:</span>				</div><!-- .comment-author -->								<div class="clearfix"></div>			</div>			<div class="comment-content panel-body">				<p>Swift_TransportException in AbstractSmtpTransport.php line 383: Expected response code 250 but got code &#8220;530&#8221;, with message &#8220;530 5.7.1 Authentication required&#8221;    in /vagrant/h5book2/vendor/swiftmailer/swiftmailer/lib/classes/Swift/Transport/AbstractSmtpTransport.php line 383    at Swift_Transport_AbstractSmtpTransport-&gt;_assertResponseCode(&#8216;530 5.7.1 Authentication required &#8216;, array(250)) in AbstractSmtpTransport.php line 281    at Swift_Transport_AbstractSmtpTransport-&gt;executeCommand(&#8216;MAIL FROM:&lt;1798736436@qq.com&gt; &#8216;, array(250), array()) in EsmtpTransport.php line 270    at Swift_Transport_EsmtpTransport-&gt;executeCommand(&#8216;MAIL FROM:&lt;1798736436@qq.com&gt; &#8216;, array(250)) in EsmtpTransport.php line 346    at Swift_Transport_EsmtpTransport-&gt;_doMailFromCommand(&#8216;1798736436@qq.com&#8217;) in AbstractSmtpTransport.php line 416    at Swift_Transport_AbstractSmtpTransport-&gt;_doMailTransaction(object(Swift_Message), &#8216;1798736436@qq.com&#8217;, array(&#8216;13121530609@163.com&#8217;), array()) in AbstractSmtpTransport.php line 443    at Swift_Transport_AbstractSmtpTransport-&gt;_sendTo(object(Swift_Message), &#8216;1798736436@qq.com&#8217;, array(&#8216;13121530609@163.com&#8217; =&gt; null), array()) in AbstractSmtpTransport.php line 176    at Swift_Transport_AbstractSmtpTransport-&gt;send(object(Swift_Message), array()) in Mailer.php line 85    at Swift_Mailer-&gt;send(object(Swift_Message), array()) in Mailer.php line 423    at Mailer-&gt;sendSwiftMessage(object(Swift_Message)) in Mailer.php line 208    at Mailer-&gt;send(&#8217;emails.test&#8217;, array(&#8216;name&#8217; =&gt; &#8216;学院君&#8217;, &#8216;message&#8217; =&gt; object(Message)), object(Closure)) in Facade.php line 221    at Facade::__callStatic(&#8216;send&#8217;, array(&#8217;emails.test&#8217;, array(&#8216;name&#8217; =&gt; &#8216;学院君&#8217;), object(Closure))) in MailController.php line 20    at MailController-&gt;send()    at call_user_func_array(array(object(MailController), &#8216;send&#8217;), array()) in Controller.php line 55    at Controller-&gt;callAction(&#8216;send&#8217;, array()) in ControllerDispatcher.php line 44    at ControllerDispatcher-&gt;dispatch(object(Route), object(MailController), &#8216;send&#8217;) in Route.php line 203    at Route-&gt;runController() in Route.php line 160    at Route-&gt;run() in Router.php line 559    at Router-&gt;IlluminateRouting{closure}(object(Request)) in Pipeline.php line 30</p>			</div>			<div class="panel-footer">				<div class="pull-right">					<div class="reply text-right"><a rel='nofollow' class='comment-reply-link btn btn-info btn-sm' href='http://laravelacademy.org/post/1986.html?replytocom=10942#respond' onclick='return addComment.moveForm( "div-comment-10942", "10942", "respond", "1986" )' aria-label='回复给滔滔不绝'><i class="glyphicon ipt-icon-reply"></i>&nbsp;&nbsp;回复</a></div>				</div>				<div class="comment-metadata">					<a href="http://laravelacademy.org/post/1986.html/comment-page-2#comment-10942">						<time datetime="2017-02-16T17:22:09+00:00">							<i class="glyphicon glyphicon-calendar"></i>&nbsp;&nbsp;2017年2月16日 at 下午5:22						</time>					</a>									</div><!-- .comment-metadata -->				<div class="clearfix"></div>			</div>		</article><!-- .comment-body -->	<ol class="children">	<li id="comment-10943" class="comment even depth-2 parent">		<article id="div-comment-10943" class="comment-body panel panel-default">			<div class="panel-heading comment-meta">				<div class="comment-author vcard pull-left">					<img alt='' src='http://2.gravatar.com/avatar/?s=32&#038;d=retro&#038;r=g' srcset='http://0.gravatar.com/avatar/?s=64&amp;d=retro&amp;r=g 2x' class='avatar avatar-32 photo avatar-default' height='32' width='32' />					<cite class="fn">滔滔不绝</cite> <span class="says">says:</span>				</div><!-- .comment-author -->								<div class="clearfix"></div>			</div>			<div class="comment-content panel-body">				<p>怎么回事呢？</p>			</div>			<div class="panel-footer">				<div class="pull-right">					<div class="reply text-right"><a rel='nofollow' class='comment-reply-link btn btn-info btn-sm' href='http://laravelacademy.org/post/1986.html?replytocom=10943#respond' onclick='return addComment.moveForm( "div-comment-10943", "10943", "respond", "1986" )' aria-label='回复给滔滔不绝'><i class="glyphicon ipt-icon-reply"></i>&nbsp;&nbsp;回复</a></div>				</div>				<div class="comment-metadata">					<a href="http://laravelacademy.org/post/1986.html/comment-page-2#comment-10943">						<time datetime="2017-02-16T17:22:23+00:00">							<i class="glyphicon glyphicon-calendar"></i>&nbsp;&nbsp;2017年2月16日 at 下午5:22						</time>					</a>									</div><!-- .comment-metadata -->				<div class="clearfix"></div>			</div>		</article><!-- .comment-body -->	<ol class="children">	<li id="comment-11035" class="comment byuser comment-author-nonfu bypostauthor odd alt depth-3">		<article id="div-comment-11035" class="comment-body panel panel-info">			<div class="panel-heading comment-meta">				<div class="comment-author vcard pull-left">					<img alt='' src='http://0.gravatar.com/avatar/699bfa8486547de4b21d7984876627f6?s=32&#038;d=retro&#038;r=g' srcset='http://0.gravatar.com/avatar/699bfa8486547de4b21d7984876627f6?s=64&amp;d=retro&amp;r=g 2x' class='avatar avatar-32 photo' height='32' width='32' />					<cite class="fn"><a href='http://laravelacademy.org/' rel='external nofollow' class='url'>学院君</a></cite> <span class="says">says:</span>				</div><!-- .comment-author -->								<div class="clearfix"></div>			</div>			<div class="comment-content panel-body">				<p>认证不通过</p>			</div>			<div class="panel-footer">				<div class="pull-right">					<div class="reply text-right"><a rel='nofollow' class='comment-reply-link btn btn-info btn-sm' href='http://laravelacademy.org/post/1986.html?replytocom=11035#respond' onclick='return addComment.moveForm( "div-comment-11035", "11035", "respond", "1986" )' aria-label='回复给学院君'><i class="glyphicon ipt-icon-reply"></i>&nbsp;&nbsp;回复</a></div>				</div>				<div class="comment-metadata">					<a href="http://laravelacademy.org/post/1986.html/comment-page-2#comment-11035">						<time datetime="2017-02-16T19:07:43+00:00">							<i class="glyphicon glyphicon-calendar"></i>&nbsp;&nbsp;2017年2月16日 at 下午7:07						</time>					</a>									</div><!-- .comment-metadata -->				<div class="clearfix"></div>			</div>		</article><!-- .comment-body -->	</li><!-- #comment-## --></ol><!-- .children --></li><!-- #comment-## --></ol><!-- .children --></li><!-- #comment-## -->	<li id="comment-7458" class="comment even thread-even depth-1">		<article id="div-comment-7458" class="comment-body panel panel-default">			<div class="panel-heading comment-meta">				<div class="comment-author vcard pull-left">					<img alt='' src='http://2.gravatar.com/avatar/2d35ebddb83e8189b26f9caa183adec2?s=32&#038;d=retro&#038;r=g' srcset='http://2.gravatar.com/avatar/2d35ebddb83e8189b26f9caa183adec2?s=64&amp;d=retro&amp;r=g 2x' class='avatar avatar-32 photo' height='32' width='32' />					<cite class="fn"><a href='http://t.qq.com/wuzhaojun1' rel='external nofollow' class='url'>纳兰小九</a></cite> <span class="says">says:</span>				</div><!-- .comment-author -->								<div class="clearfix"></div>			</div>			<div class="comment-content panel-body">				<p>还是跑这里来问下吧。学院君，我遇到个问题：我把发送邮件写入了job中，正常我线下测试完全无问题，我的线上配置.env都是对的。但是线上出现状况。问题描述：部分时候邮件功能可用，部分时间邮件功能不可用。邮件功能不可用的时候，job发送失败，失败原因是无发送人(附报错信息：production.ERROR: exception &#8216;Swift_TransportException&#8217; with message &#8216;Cannot send message without a sender address&#8217; in /home/www/yesii/vendor/swiftmailer/swiftmailer/lib/classes/Swift/Transport/AbstractSmtpTransport.php:162），打印log发现获取不到config/mail.php的正确配置，所获取的配置都是系统的默认配置。线上config什么的都是对的，之前没开启config缓存，开启后config缓存中配置是对的也还是会有错误。请问是否遇到了类似问题，或者我的哪里配置有错误的，能否帮忙解释下，谢谢。</p>			</div>			<div class="panel-footer">				<div class="pull-right">					<div class="reply text-right"><a rel='nofollow' class='comment-reply-link btn btn-info btn-sm' href='http://laravelacademy.org/post/1986.html?replytocom=7458#respond' onclick='return addComment.moveForm( "div-comment-7458", "7458", "respond", "1986" )' aria-label='回复给纳兰小九'><i class="glyphicon ipt-icon-reply"></i>&nbsp;&nbsp;回复</a></div>				</div>				<div class="comment-metadata">					<a href="http://laravelacademy.org/post/1986.html/comment-page-2#comment-7458">						<time datetime="2016-12-02T15:14:06+00:00">							<i class="glyphicon glyphicon-calendar"></i>&nbsp;&nbsp;2016年12月2日 at 下午3:14						</time>					</a>									</div><!-- .comment-metadata -->				<div class="clearfix"></div>			</div>		</article><!-- .comment-body -->	</li><!-- #comment-## -->	<li id="comment-6715" class="comment odd alt thread-odd thread-alt depth-1 parent">		<article id="div-comment-6715" class="comment-body panel panel-default">			<div class="panel-heading comment-meta">				<div class="comment-author vcard pull-left">					<img alt='' src='http://2.gravatar.com/avatar/?s=32&#038;d=retro&#038;r=g' srcset='http://1.gravatar.com/avatar/?s=64&amp;d=retro&amp;r=g 2x' class='avatar avatar-32 photo avatar-default' height='32' width='32' />					<cite class="fn"><a href='http://t.qq.com/firefly-heze' rel='external nofollow' class='url'>小辉辉</a></cite> <span class="says">says:</span>				</div><!-- .comment-author -->								<div class="clearfix"></div>			</div>			<div class="comment-content panel-body">				<p>学院君,邮件发送成功,但是返回值为null, 然后在发送附件的时候无法打开文件错误,Unable to open file for reading [F:WAMPApache2.4Apache24htdocsLaravellaravelstorageapp/files/js.txt]</p>			</div>			<div class="panel-footer">				<div class="pull-right">					<div class="reply text-right"><a rel='nofollow' class='comment-reply-link btn btn-info btn-sm' href='http://laravelacademy.org/post/1986.html?replytocom=6715#respond' onclick='return addComment.moveForm( "div-comment-6715", "6715", "respond", "1986" )' aria-label='回复给小辉辉'><i class="glyphicon ipt-icon-reply"></i>&nbsp;&nbsp;回复</a></div>				</div>				<div class="comment-metadata">					<a href="http://laravelacademy.org/post/1986.html/comment-page-2#comment-6715">						<time datetime="2016-10-14T12:10:27+00:00">							<i class="glyphicon glyphicon-calendar"></i>&nbsp;&nbsp;2016年10月14日 at 下午12:10						</time>					</a>									</div><!-- .comment-metadata -->				<div class="clearfix"></div>			</div>		</article><!-- .comment-body -->	<ol class="children">	<li id="comment-6716" class="comment even depth-2 parent">		<article id="div-comment-6716" class="comment-body panel panel-default">			<div class="panel-heading comment-meta">				<div class="comment-author vcard pull-left">					<img alt='' src='http://1.gravatar.com/avatar/?s=32&#038;d=retro&#038;r=g' srcset='http://1.gravatar.com/avatar/?s=64&amp;d=retro&amp;r=g 2x' class='avatar avatar-32 photo avatar-default' height='32' width='32' />					<cite class="fn"><a href='http://t.qq.com/firefly-heze' rel='external nofollow' class='url'>小辉辉</a></cite> <span class="says">says:</span>				</div><!-- .comment-author -->								<div class="clearfix"></div>			</div>			<div class="comment-content panel-body">				<p>框架版本是laravel5.3</p>			</div>			<div class="panel-footer">				<div class="pull-right">					<div class="reply text-right"><a rel='nofollow' class='comment-reply-link btn btn-info btn-sm' href='http://laravelacademy.org/post/1986.html?replytocom=6716#respond' onclick='return addComment.moveForm( "div-comment-6716", "6716", "respond", "1986" )' aria-label='回复给小辉辉'><i class="glyphicon ipt-icon-reply"></i>&nbsp;&nbsp;回复</a></div>				</div>				<div class="comment-metadata">					<a href="http://laravelacademy.org/post/1986.html/comment-page-2#comment-6716">						<time datetime="2016-10-14T12:11:17+00:00">							<i class="glyphicon glyphicon-calendar"></i>&nbsp;&nbsp;2016年10月14日 at 下午12:11						</time>					</a>									</div><!-- .comment-metadata -->				<div class="clearfix"></div>			</div>		</article><!-- .comment-body -->	<ol class="children">	<li id="comment-6717" class="comment odd alt depth-3">		<article id="div-comment-6717" class="comment-body panel panel-default">			<div class="panel-heading comment-meta">				<div class="comment-author vcard pull-left">					<img alt='' src='http://1.gravatar.com/avatar/?s=32&#038;d=retro&#038;r=g' srcset='http://1.gravatar.com/avatar/?s=64&amp;d=retro&amp;r=g 2x' class='avatar avatar-32 photo avatar-default' height='32' width='32' />					<cite class="fn"><a href='http://t.qq.com/firefly-heze' rel='external nofollow' class='url'>小辉辉</a></cite> <span class="says">says:</span>				</div><!-- .comment-author -->								<div class="clearfix"></div>			</div>			<div class="comment-content panel-body">				<p>错误找到了,我用的框架版本问题,我换回laravel5.1就没问题了 <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/0b/tootha_org.gif" /> </p>			</div>			<div class="panel-footer">				<div class="pull-right">					<div class="reply text-right"><a rel='nofollow' class='comment-reply-link btn btn-info btn-sm' href='http://laravelacademy.org/post/1986.html?replytocom=6717#respond' onclick='return addComment.moveForm( "div-comment-6717", "6717", "respond", "1986" )' aria-label='回复给小辉辉'><i class="glyphicon ipt-icon-reply"></i>&nbsp;&nbsp;回复</a></div>				</div>				<div class="comment-metadata">					<a href="http://laravelacademy.org/post/1986.html/comment-page-2#comment-6717">						<time datetime="2016-10-14T14:03:08+00:00">							<i class="glyphicon glyphicon-calendar"></i>&nbsp;&nbsp;2016年10月14日 at 下午2:03						</time>					</a>									</div><!-- .comment-metadata -->				<div class="clearfix"></div>			</div>		</article><!-- .comment-body -->	</li><!-- #comment-## --></ol><!-- .children --></li><!-- #comment-## --></ol><!-- .children --></li><!-- #comment-## -->	<li id="comment-5860" class="comment even thread-even depth-1">		<article id="div-comment-5860" class="comment-body panel panel-default">			<div class="panel-heading comment-meta">				<div class="comment-author vcard pull-left">					<img alt='' src='http://1.gravatar.com/avatar/?s=32&#038;d=retro&#038;r=g' srcset='http://2.gravatar.com/avatar/?s=64&amp;d=retro&amp;r=g 2x' class='avatar avatar-32 photo avatar-default' height='32' width='32' />					<cite class="fn"><a href='http://t.qq.com/BAISHAOWEI1334067616' rel='external nofollow' class='url'>尘歌</a></cite> <span class="says">says:</span>				</div><!-- .comment-author -->								<div class="clearfix"></div>			</div>			<div class="comment-content panel-body">				<p>求各位大神解决:    在用户点击邮件发送的时候卡了，不跳转了，怎么办    这个情况一般是哪里出现了问题</p>			</div>			<div class="panel-footer">				<div class="pull-right">					<div class="reply text-right"><a rel='nofollow' class='comment-reply-link btn btn-info btn-sm' href='http://laravelacademy.org/post/1986.html?replytocom=5860#respond' onclick='return addComment.moveForm( "div-comment-5860", "5860", "respond", "1986" )' aria-label='回复给尘歌'><i class="glyphicon ipt-icon-reply"></i>&nbsp;&nbsp;回复</a></div>				</div>				<div class="comment-metadata">					<a href="http://laravelacademy.org/post/1986.html/comment-page-2#comment-5860">						<time datetime="2016-08-18T17:21:12+00:00">							<i class="glyphicon glyphicon-calendar"></i>&nbsp;&nbsp;2016年8月18日 at 下午5:21						</time>					</a>									</div><!-- .comment-metadata -->				<div class="clearfix"></div>			</div>		</article><!-- .comment-body -->	</li><!-- #comment-## -->	<li id="comment-5065" class="comment odd alt thread-odd thread-alt depth-1 parent">		<article id="div-comment-5065" class="comment-body panel panel-default">			<div class="panel-heading comment-meta">				<div class="comment-author vcard pull-left">					<img alt='' src='http://2.gravatar.com/avatar/?s=32&#038;d=retro&#038;r=g' srcset='http://1.gravatar.com/avatar/?s=64&amp;d=retro&amp;r=g 2x' class='avatar avatar-32 photo avatar-default' height='32' width='32' />					<cite class="fn">無小奈</cite> <span class="says">says:</span>				</div><!-- .comment-author -->								<div class="clearfix"></div>			</div>			<div class="comment-content panel-body">				<p>@学院君：Expected response code 250 but got code &#8220;&#8221;, with message &#8220;&#8221;</p>			</div>			<div class="panel-footer">				<div class="pull-right">					<div class="reply text-right"><a rel='nofollow' class='comment-reply-link btn btn-info btn-sm' href='http://laravelacademy.org/post/1986.html?replytocom=5065#respond' onclick='return addComment.moveForm( "div-comment-5065", "5065", "respond", "1986" )' aria-label='回复给無小奈'><i class="glyphicon ipt-icon-reply"></i>&nbsp;&nbsp;回复</a></div>				</div>				<div class="comment-metadata">					<a href="http://laravelacademy.org/post/1986.html/comment-page-2#comment-5065">						<time datetime="2016-06-28T20:04:27+00:00">							<i class="glyphicon glyphicon-calendar"></i>&nbsp;&nbsp;2016年6月28日 at 下午8:04						</time>					</a>									</div><!-- .comment-metadata -->				<div class="clearfix"></div>			</div>		</article><!-- .comment-body -->	<ol class="children">	<li id="comment-5373" class="comment byuser comment-author-ccabce530 even depth-2 parent">		<article id="div-comment-5373" class="comment-body panel panel-default">			<div class="panel-heading comment-meta">				<div class="comment-author vcard pull-left">					<img alt='' src='http://0.gravatar.com/avatar/979e983664b8574a820c0f3565c287a7?s=32&#038;d=retro&#038;r=g' srcset='http://0.gravatar.com/avatar/979e983664b8574a820c0f3565c287a7?s=64&amp;d=retro&amp;r=g 2x' class='avatar avatar-32 photo' height='32' width='32' />					<cite class="fn"><a href='http://t.qq.com/caihongdeyewan' rel='external nofollow' class='url'>彩虹的夜晚</a></cite> <span class="says">says:</span>				</div><!-- .comment-author -->								<div class="clearfix"></div>			</div>			<div class="comment-content panel-body">				<p>这个是因为你在设置密码的时候输入的是你的登录密码，而实际上此处需要的是授权码</p>			</div>			<div class="panel-footer">				<div class="pull-right">					<div class="reply text-right"><a rel='nofollow' class='comment-reply-link btn btn-info btn-sm' href='http://laravelacademy.org/post/1986.html?replytocom=5373#respond' onclick='return addComment.moveForm( "div-comment-5373", "5373", "respond", "1986" )' aria-label='回复给彩虹的夜晚'><i class="glyphicon ipt-icon-reply"></i>&nbsp;&nbsp;回复</a></div>				</div>				<div class="comment-metadata">					<a href="http://laravelacademy.org/post/1986.html/comment-page-2#comment-5373">						<time datetime="2016-07-21T15:35:41+00:00">							<i class="glyphicon glyphicon-calendar"></i>&nbsp;&nbsp;2016年7月21日 at 下午3:35						</time>					</a>									</div><!-- .comment-metadata -->				<div class="clearfix"></div>			</div>		</article><!-- .comment-body -->	<ol class="children">	<li id="comment-5829" class="comment odd alt depth-3">		<article id="div-comment-5829" class="comment-body panel panel-default">			<div class="panel-heading comment-meta">				<div class="comment-author vcard pull-left">					<img alt='' src='http://0.gravatar.com/avatar/03eed84abcefaeeabe0645f942a20d60?s=32&#038;d=retro&#038;r=g' srcset='http://0.gravatar.com/avatar/03eed84abcefaeeabe0645f942a20d60?s=64&amp;d=retro&amp;r=g 2x' class='avatar avatar-32 photo' height='32' width='32' />					<cite class="fn"><a href='http://t.qq.com/luokaiinniu240' rel='external nofollow' class='url'>罗彦</a></cite> <span class="says">says:</span>				</div><!-- .comment-author -->								<div class="clearfix"></div>			</div>			<div class="comment-content panel-body">				<p>请问授权码在那里?如何查看?</p>			</div>			<div class="panel-footer">				<div class="pull-right">					<div class="reply text-right"><a rel='nofollow' class='comment-reply-link btn btn-info btn-sm' href='http://laravelacademy.org/post/1986.html?replytocom=5829#respond' onclick='return addComment.moveForm( "div-comment-5829", "5829", "respond", "1986" )' aria-label='回复给罗彦'><i class="glyphicon ipt-icon-reply"></i>&nbsp;&nbsp;回复</a></div>				</div>				<div class="comment-metadata">					<a href="http://laravelacademy.org/post/1986.html/comment-page-2#comment-5829">						<time datetime="2016-08-16T15:53:39+00:00">							<i class="glyphicon glyphicon-calendar"></i>&nbsp;&nbsp;2016年8月16日 at 下午3:53						</time>					</a>									</div><!-- .comment-metadata -->				<div class="clearfix"></div>			</div>		</article><!-- .comment-body -->	</li><!-- #comment-## --></ol><!-- .children --></li><!-- #comment-## --></ol><!-- .children --></li><!-- #comment-## -->	<li id="comment-5062" class="comment even thread-even depth-1">		<article id="div-comment-5062" class="comment-body panel panel-default">			<div class="panel-heading comment-meta">				<div class="comment-author vcard pull-left">					<img alt='' src='http://2.gravatar.com/avatar/?s=32&#038;d=retro&#038;r=g' srcset='http://2.gravatar.com/avatar/?s=64&amp;d=retro&amp;r=g 2x' class='avatar avatar-32 photo avatar-default' height='32' width='32' />					<cite class="fn">等待戈多</cite> <span class="says">says:</span>				</div><!-- .comment-author -->								<div class="clearfix"></div>			</div>			<div class="comment-content panel-body">				<p>能发送成功，但是发送不了图片</p>			</div>			<div class="panel-footer">				<div class="pull-right">					<div class="reply text-right"><a rel='nofollow' class='comment-reply-link btn btn-info btn-sm' href='http://laravelacademy.org/post/1986.html?replytocom=5062#respond' onclick='return addComment.moveForm( "div-comment-5062", "5062", "respond", "1986" )' aria-label='回复给等待戈多'><i class="glyphicon ipt-icon-reply"></i>&nbsp;&nbsp;回复</a></div>				</div>				<div class="comment-metadata">					<a href="http://laravelacademy.org/post/1986.html/comment-page-2#comment-5062">						<time datetime="2016-06-28T13:03:18+00:00">							<i class="glyphicon glyphicon-calendar"></i>&nbsp;&nbsp;2016年6月28日 at 下午1:03						</time>					</a>									</div><!-- .comment-metadata -->				<div class="clearfix"></div>			</div>		</article><!-- .comment-body -->	</li><!-- #comment-## -->	<li id="comment-5016" class="comment odd alt thread-odd thread-alt depth-1">		<article id="div-comment-5016" class="comment-body panel panel-default">			<div class="panel-heading comment-meta">				<div class="comment-author vcard pull-left">					<img alt='' src='http://1.gravatar.com/avatar/42a10c56e1586c5199b8b1dc5a72be22?s=32&#038;d=retro&#038;r=g' srcset='http://1.gravatar.com/avatar/42a10c56e1586c5199b8b1dc5a72be22?s=64&amp;d=retro&amp;r=g 2x' class='avatar avatar-32 photo' height='32' width='32' />					<cite class="fn"><a href='http://findgor.cwsurf.de/wordpress/' rel='external nofollow' class='url'>findgor</a></cite> <span class="says">says:</span>				</div><!-- .comment-author -->								<div class="clearfix"></div>			</div>			<div class="comment-content panel-body">				<p>成功发送，感谢学院君！大家要注意的是，如果报possible authenticators用户校验错误的话，请检查自己的邮箱是否开启了smtp协议并获取验证码，如QQ邮箱在账号中的设置中可以开启smtp服务的。</p>			</div>			<div class="panel-footer">				<div class="pull-right">					<div class="reply text-right"><a rel='nofollow' class='comment-reply-link btn btn-info btn-sm' href='http://laravelacademy.org/post/1986.html?replytocom=5016#respond' onclick='return addComment.moveForm( "div-comment-5016", "5016", "respond", "1986" )' aria-label='回复给findgor'><i class="glyphicon ipt-icon-reply"></i>&nbsp;&nbsp;回复</a></div>				</div>				<div class="comment-metadata">					<a href="http://laravelacademy.org/post/1986.html/comment-page-2#comment-5016">						<time datetime="2016-06-24T18:10:12+00:00">							<i class="glyphicon glyphicon-calendar"></i>&nbsp;&nbsp;2016年6月24日 at 下午6:10						</time>					</a>									</div><!-- .comment-metadata -->				<div class="clearfix"></div>			</div>		</article><!-- .comment-body -->	</li><!-- #comment-## -->	<li id="comment-4323" class="comment even thread-even depth-1 parent">		<article id="div-comment-4323" class="comment-body panel panel-default">			<div class="panel-heading comment-meta">				<div class="comment-author vcard pull-left">					<img alt='' src='http://0.gravatar.com/avatar/?s=32&#038;d=retro&#038;r=g' srcset='http://0.gravatar.com/avatar/?s=64&amp;d=retro&amp;r=g 2x' class='avatar avatar-32 photo avatar-default' height='32' width='32' />					<cite class="fn"><a href='http://t.qq.com/sunjinliang520' rel='external nofollow' class='url'>孙金亮</a></cite> <span class="says">says:</span>				</div><!-- .comment-author -->								<div class="clearfix"></div>			</div>			<div class="comment-content panel-body">				<p>@学院君，报这个错。该怎么解决。用的是smtp.163.comSwift_TransportException in AuthHandler.php line 181:Failed to authenticate on SMTP server with username &#8220;sun_line44@163.com&#8221; using 2 possible authenticatorsin AuthHandler.php line 181at Swift_Transport_Esmtp_AuthHandler-&gt;afterEhlo(object(Swift_SmtpTransport)) in EsmtpTransport.php line 334at Swift_Transport_EsmtpTransport-&gt;_doHeloCommand() in AbstractSmtpTransport.php line 118at Swift_Transport_AbstractSmtpTransport-&gt;start() in Mailer.php line 79at Swift_Mailer-&gt;send(object(Swift_Message), array()) in Mailer.php line 386at Mailer-&gt;sendSwiftMessage(object(Swift_Message)) in Mailer.php line 173at Mailer-&gt;send(&#8217;email&#8217;, array(&#8216;name&#8217; =&gt; &#8216;孙**@sun-line&#8217;), object(Closure)) in Facade.php line 224at Facade::__callStatic(&#8216;send&#8217;, array(&#8217;email&#8217;, array(&#8216;name&#8217; =&gt; &#8216;孙**@sun-line&#8217;), object(Closure))) in EmailController.php line 15at Mail::send(&#8217;email&#8217;, array(&#8216;name&#8217; =&gt; &#8216;孙**@sun-line&#8217;), object(Closure)) in EmailController.php line 15at EmailController-&gt;send()at call_user_func_array(array(object(EmailController), &#8216;send&#8217;), array()) in Controller.php line 80</p>			</div>			<div class="panel-footer">				<div class="pull-right">					<div class="reply text-right"><a rel='nofollow' class='comment-reply-link btn btn-info btn-sm' href='http://laravelacademy.org/post/1986.html?replytocom=4323#respond' onclick='return addComment.moveForm( "div-comment-4323", "4323", "respond", "1986" )' aria-label='回复给孙金亮'><i class="glyphicon ipt-icon-reply"></i>&nbsp;&nbsp;回复</a></div>				</div>				<div class="comment-metadata">					<a href="http://laravelacademy.org/post/1986.html/comment-page-2#comment-4323">						<time datetime="2016-05-16T18:13:37+00:00">							<i class="glyphicon glyphicon-calendar"></i>&nbsp;&nbsp;2016年5月16日 at 下午6:13						</time>					</a>									</div><!-- .comment-metadata -->				<div class="clearfix"></div>			</div>		</article><!-- .comment-body -->	<ol class="children">	<li id="comment-4333" class="comment byuser comment-author-nonfu bypostauthor odd alt depth-2 parent">		<article id="div-comment-4333" class="comment-body panel panel-info">			<div class="panel-heading comment-meta">				<div class="comment-author vcard pull-left">					<img alt='' src='http://0.gravatar.com/avatar/699bfa8486547de4b21d7984876627f6?s=32&#038;d=retro&#038;r=g' srcset='http://0.gravatar.com/avatar/699bfa8486547de4b21d7984876627f6?s=64&amp;d=retro&amp;r=g 2x' class='avatar avatar-32 photo' height='32' width='32' />					<cite class="fn"><a href='http://laravelacademy.org/' rel='external nofollow' class='url'>学院君</a></cite> <span class="says">says:</span>				</div><!-- .comment-author -->								<div class="clearfix"></div>			</div>			<div class="comment-content panel-body">				<p>你是不是开启了双重身份认证</p>			</div>			<div class="panel-footer">				<div class="pull-right">					<div class="reply text-right"><a rel='nofollow' class='comment-reply-link btn btn-info btn-sm' href='http://laravelacademy.org/post/1986.html?replytocom=4333#respond' onclick='return addComment.moveForm( "div-comment-4333", "4333", "respond", "1986" )' aria-label='回复给学院君'><i class="glyphicon ipt-icon-reply"></i>&nbsp;&nbsp;回复</a></div>				</div>				<div class="comment-metadata">					<a href="http://laravelacademy.org/post/1986.html/comment-page-2#comment-4333">						<time datetime="2016-05-16T23:05:24+00:00">							<i class="glyphicon glyphicon-calendar"></i>&nbsp;&nbsp;2016年5月16日 at 下午11:05						</time>					</a>									</div><!-- .comment-metadata -->				<div class="clearfix"></div>			</div>		</article><!-- .comment-body -->	<ol class="children">	<li id="comment-4339" class="comment even depth-3 parent">		<article id="div-comment-4339" class="comment-body panel panel-default">			<div class="panel-heading comment-meta">				<div class="comment-author vcard pull-left">					<img alt='' src='http://2.gravatar.com/avatar/eb576225fbef1f497388e5092c46c597?s=32&#038;d=retro&#038;r=g' srcset='http://2.gravatar.com/avatar/eb576225fbef1f497388e5092c46c597?s=64&amp;d=retro&amp;r=g 2x' class='avatar avatar-32 photo' height='32' width='32' />					<cite class="fn"><a href='http://t.qq.com/sunjinliang520' rel='external nofollow' class='url'>sun_line</a></cite> <span class="says">says:</span>				</div><!-- .comment-author -->								<div class="clearfix"></div>			</div>			<div class="comment-content panel-body">				<p>有授权码验证。我现在把授权码替换密码了：报错如下Swift_TransportException in AbstractSmtpTransport.php line 383:Expected response code 250 but got code &#8220;553&#8221;, with message &#8220;553 Mail from must equal authorized user&#8221;in AbstractSmtpTransport.php line 383at Swift_Transport_AbstractSmtpTransport-&gt;_assertResponseCode(&#8216;553 Mail from must equal authorized user &#8216;, array(&#8216;250&#8217;)) in AbstractSmtpTransport.php line 281at Swift_Transport_AbstractSmtpTransport-&gt;executeCommand(&#8216;MAIL FROM: &#8216;, array(&#8216;250&#8217;), array()) in EsmtpTransport.php line 270at Swift_Transport_EsmtpTransport-&gt;executeCommand(&#8216;MAIL FROM: &#8216;, array(&#8216;250&#8217;)) in EsmtpTransport.php line 349at Swift_Transport_EsmtpTransport-&gt;_doMailFromCommand(&#8216;us@example.com&#8217;) in AbstractSmtpTransport.php line 416at Swift_Transport_AbstractSmtpTransport-&gt;_doMailTransaction(object(Swift_Message), &#8216;us@example.com&#8217;, array(&#8216;1220944184@qq.com&#8217;), array()) in AbstractSmtpTransport.php line 444at Swift_Transport_AbstractSmtpTransport-&gt;_sendTo(object(Swift_Message), &#8216;us@example.com&#8217;, array(&#8216;1220944184@qq.com&#8217; =&gt; null), array()) in AbstractSmtpTransport.php line 176at Swift_Transport_AbstractSmtpTransport-&gt;send(object(Swift_Message), array()) in Mailer.php line 85at Swift_Mailer-&gt;send(object(Swift_Message), array()) in Mailer.php line 386</p>			</div>			<div class="panel-footer">				<div class="pull-right">					<div class="reply text-right"><a rel='nofollow' class='comment-reply-link btn btn-info btn-sm' href='http://laravelacademy.org/post/1986.html?replytocom=4339#respond' onclick='return addComment.moveForm( "div-comment-4339", "4339", "respond", "1986" )' aria-label='回复给sun_line'><i class="glyphicon ipt-icon-reply"></i>&nbsp;&nbsp;回复</a></div>				</div>				<div class="comment-metadata">					<a href="http://laravelacademy.org/post/1986.html/comment-page-2#comment-4339">						<time datetime="2016-05-17T08:33:01+00:00">							<i class="glyphicon glyphicon-calendar"></i>&nbsp;&nbsp;2016年5月17日 at 上午8:33						</time>					</a>									</div><!-- .comment-metadata -->				<div class="clearfix"></div>			</div>		</article><!-- .comment-body -->	<ol class="children">	<li id="comment-4345" class="comment byuser comment-author-nonfu bypostauthor odd alt depth-4 parent">		<article id="div-comment-4345" class="comment-body panel panel-info">			<div class="panel-heading comment-meta">				<div class="comment-author vcard pull-left">					<img alt='' src='http://0.gravatar.com/avatar/699bfa8486547de4b21d7984876627f6?s=32&#038;d=retro&#038;r=g' srcset='http://0.gravatar.com/avatar/699bfa8486547de4b21d7984876627f6?s=64&amp;d=retro&amp;r=g 2x' class='avatar avatar-32 photo' height='32' width='32' />					<cite class="fn"><a href='http://laravelacademy.org/' rel='external nofollow' class='url'>学院君</a></cite> <span class="says">says:</span>				</div><!-- .comment-author -->								<div class="clearfix"></div>			</div>			<div class="comment-content panel-body">				<p>你是不是在使用别人开发的项目或扩展？这个意识是你代码中设置的来源邮箱和.env中的认证邮箱不一致</p>			</div>			<div class="panel-footer">				<div class="pull-right">					<div class="reply text-right"><a rel='nofollow' class='comment-reply-link btn btn-info btn-sm' href='http://laravelacademy.org/post/1986.html?replytocom=4345#respond' onclick='return addComment.moveForm( "div-comment-4345", "4345", "respond", "1986" )' aria-label='回复给学院君'><i class="glyphicon ipt-icon-reply"></i>&nbsp;&nbsp;回复</a></div>				</div>				<div class="comment-metadata">					<a href="http://laravelacademy.org/post/1986.html/comment-page-2#comment-4345">						<time datetime="2016-05-17T11:42:42+00:00">							<i class="glyphicon glyphicon-calendar"></i>&nbsp;&nbsp;2016年5月17日 at 上午11:42						</time>					</a>									</div><!-- .comment-metadata -->				<div class="clearfix"></div>			</div>		</article><!-- .comment-body -->	<ol class="children">	<li id="comment-4348" class="comment even depth-5">		<article id="div-comment-4348" class="comment-body panel panel-default">			<div class="panel-heading comment-meta">				<div class="comment-author vcard pull-left">					<img alt='' src='http://2.gravatar.com/avatar/eb576225fbef1f497388e5092c46c597?s=32&#038;d=retro&#038;r=g' srcset='http://2.gravatar.com/avatar/eb576225fbef1f497388e5092c46c597?s=64&amp;d=retro&amp;r=g 2x' class='avatar avatar-32 photo' height='32' width='32' />					<cite class="fn"><a href='http://t.qq.com/sunjinliang520' rel='external nofollow' class='url'>sun_line</a></cite> <span class="says">says:</span>				</div><!-- .comment-author -->								<div class="clearfix"></div>			</div>			<div class="comment-content panel-body">				<p>改过来了。现在报连接不上。端口号错了吗？Swift_TransportException in AbstractSmtpTransport.php line 404:Connection to smtp.163.com:25 Timed Outin AbstractSmtpTransport.php line 404</p>			</div>			<div class="panel-footer">				<div class="pull-right">									</div>				<div class="comment-metadata">					<a href="http://laravelacademy.org/post/1986.html/comment-page-2#comment-4348">						<time datetime="2016-05-17T14:42:40+00:00">							<i class="glyphicon glyphicon-calendar"></i>&nbsp;&nbsp;2016年5月17日 at 下午2:42						</time>					</a>									</div><!-- .comment-metadata -->				<div class="clearfix"></div>			</div>		</article><!-- .comment-body -->	</li><!-- #comment-## -->	<li id="comment-4350" class="comment odd alt depth-5">		<article id="div-comment-4350" class="comment-body panel panel-default">			<div class="panel-heading comment-meta">				<div class="comment-author vcard pull-left">					<img alt='' src='http://2.gravatar.com/avatar/eb576225fbef1f497388e5092c46c597?s=32&#038;d=retro&#038;r=g' srcset='http://2.gravatar.com/avatar/eb576225fbef1f497388e5092c46c597?s=64&amp;d=retro&amp;r=g 2x' class='avatar avatar-32 photo' height='32' width='32' />					<cite class="fn"><a href='http://t.qq.com/sunjinliang520' rel='external nofollow' class='url'>sun_line</a></cite> <span class="says">says:</span>				</div><!-- .comment-author -->								<div class="clearfix"></div>			</div>			<div class="comment-content panel-body">				<p> <img src="http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/d6/ok_org.gif" /> 非常感谢！用公司的邮箱服务器测试了一下。已经可以了</p>			</div>			<div class="panel-footer">				<div class="pull-right">									</div>				<div class="comment-metadata">					<a href="http://laravelacademy.org/post/1986.html/comment-page-2#comment-4350">						<time datetime="2016-05-17T14:53:05+00:00">							<i class="glyphicon glyphicon-calendar"></i>&nbsp;&nbsp;2016年5月17日 at 下午2:53						</time>					</a>									</div><!-- .comment-metadata -->				<div class="clearfix"></div>			</div>		</article><!-- .comment-body -->	</li><!-- #comment-## --></ol><!-- .children --></li><!-- #comment-## --></ol><!-- .children --></li><!-- #comment-## --></ol><!-- .children --></li><!-- #comment-## --></ol><!-- .children --></li><!-- #comment-## -->	<li id="comment-4098" class="comment even thread-odd thread-alt depth-1 parent">		<article id="div-comment-4098" class="comment-body panel panel-default">			<div class="panel-heading comment-meta">				<div class="comment-author vcard pull-left">					<img alt='' src='http://2.gravatar.com/avatar/2d9bdab2f9f1fdb254e16344491aed8a?s=32&#038;d=retro&#038;r=g' srcset='http://2.gravatar.com/avatar/2d9bdab2f9f1fdb254e16344491aed8a?s=64&amp;d=retro&amp;r=g 2x' class='avatar avatar-32 photo' height='32' width='32' />					<cite class="fn"><a href='http://xzjs.love/' rel='external nofollow' class='url'>血之君殇</a></cite> <span class="says">says:</span>				</div><!-- .comment-author -->								<div class="clearfix"></div>			</div>			<div class="comment-content panel-body">				<p>我按照代码写下来，然后报错Maximum function nesting level of &#8216;100&#8217; reached, aborting!，调试的时候是在Mail::send那儿报错了，然后不知道该怎么办了</p>			</div>			<div class="panel-footer">				<div class="pull-right">					<div class="reply text-right"><a rel='nofollow' class='comment-reply-link btn btn-info btn-sm' href='http://laravelacademy.org/post/1986.html?replytocom=4098#respond' onclick='return addComment.moveForm( "div-comment-4098", "4098", "respond", "1986" )' aria-label='回复给血之君殇'><i class="glyphicon ipt-icon-reply"></i>&nbsp;&nbsp;回复</a></div>				</div>				<div class="comment-metadata">					<a href="http://laravelacademy.org/post/1986.html/comment-page-2#comment-4098">						<time datetime="2016-05-05T11:08:26+00:00">							<i class="glyphicon glyphicon-calendar"></i>&nbsp;&nbsp;2016年5月5日 at 上午11:08						</time>					</a>									</div><!-- .comment-metadata -->				<div class="clearfix"></div>			</div>		</article><!-- .comment-body -->	<ol class="children">	<li id="comment-4100" class="comment byuser comment-author-nonfu bypostauthor odd alt depth-2 parent">		<article id="div-comment-4100" class="comment-body panel panel-info">			<div class="panel-heading comment-meta">				<div class="comment-author vcard pull-left">					<img alt='' src='http://0.gravatar.com/avatar/699bfa8486547de4b21d7984876627f6?s=32&#038;d=retro&#038;r=g' srcset='http://0.gravatar.com/avatar/699bfa8486547de4b21d7984876627f6?s=64&amp;d=retro&amp;r=g 2x' class='avatar avatar-32 photo' height='32' width='32' />					<cite class="fn"><a href='http://laravelacademy.org/' rel='external nofollow' class='url'>学院君</a></cite> <span class="says">says:</span>				</div><!-- .comment-author -->								<div class="clearfix"></div>			</div>			<div class="comment-content panel-body">				<p>这个不是bug 是xdebug造成的 关闭xdebug或者调整嵌套level为1000即可</p>			</div>			<div class="panel-footer">				<div class="pull-right">					<div class="reply text-right"><a rel='nofollow' class='comment-reply-link btn btn-info btn-sm' href='http://laravelacademy.org/post/1986.html?replytocom=4100#respond' onclick='return addComment.moveForm( "div-comment-4100", "4100", "respond", "1986" )' aria-label='回复给学院君'><i class="glyphicon ipt-icon-reply"></i>&nbsp;&nbsp;回复</a></div>				</div>				<div class="comment-metadata">					<a href="http://laravelacademy.org/post/1986.html/comment-page-2#comment-4100">						<time datetime="2016-05-05T11:25:16+00:00">							<i class="glyphicon glyphicon-calendar"></i>&nbsp;&nbsp;2016年5月5日 at 上午11:25						</time>					</a>									</div><!-- .comment-metadata -->				<div class="clearfix"></div>			</div>		</article><!-- .comment-body -->	<ol class="children">	<li id="comment-4137" class="comment even depth-3">		<article id="div-comment-4137" class="comment-body panel panel-default">			<div class="panel-heading comment-meta">				<div class="comment-author vcard pull-left">					<img alt='' src='http://2.gravatar.com/avatar/2d9bdab2f9f1fdb254e16344491aed8a?s=32&#038;d=retro&#038;r=g' srcset='http://2.gravatar.com/avatar/2d9bdab2f9f1fdb254e16344491aed8a?s=64&amp;d=retro&amp;r=g 2x' class='avatar avatar-32 photo' height='32' width='32' />					<cite class="fn"><a href='http://xzjs.love/' rel='external nofollow' class='url'>血之君殇</a></cite> <span class="says">says:</span>				</div><!-- .comment-author -->								<div class="clearfix"></div>			</div>			<div class="comment-content panel-body">				<p>谢谢学院君，果然解决了</p>			</div>			<div class="panel-footer">				<div class="pull-right">					<div class="reply text-right"><a rel='nofollow' class='comment-reply-link btn btn-info btn-sm' href='http://laravelacademy.org/post/1986.html?replytocom=4137#respond' onclick='return addComment.moveForm( "div-comment-4137", "4137", "respond", "1986" )' aria-label='回复给血之君殇'><i class="glyphicon ipt-icon-reply"></i>&nbsp;&nbsp;回复</a></div>				</div>				<div class="comment-metadata">					<a href="http://laravelacademy.org/post/1986.html/comment-page-2#comment-4137">						<time datetime="2016-05-06T10:20:25+00:00">							<i class="glyphicon glyphicon-calendar"></i>&nbsp;&nbsp;2016年5月6日 at 上午10:20						</time>					</a>									</div><!-- .comment-metadata -->				<div class="clearfix"></div>			</div>		</article><!-- .comment-body -->	</li><!-- #comment-## --></ol><!-- .children --></li><!-- #comment-## --></ol><!-- .children --></li><!-- #comment-## -->		</ol><!-- .comment-list -->				<ul id="comment-nav-below pager" class="comment-navigation" role="navigation">			<li class="screen-reader-text sr-only">Comment navigation</li>			<li class="nav-previous previous"><a href="http://laravelacademy.org/post/1986.html/comment-page-1#comments" >&larr; 更早的评论</a></li>			<li class="nav-next next"></li>		</ul><!-- #comment-nav-below -->															<div id="respond" class="comment-respond">				<span class="pull-right"><a class="btn btn-danger btn-sm" rel="nofollow" id="cancel-comment-reply-link" href="/post/1986.html#respond" style="display:none;">取消回复</a></span>				<h3 id="reply-title" class="comment-reply-title">发表评论</h3>									<form action="http://laravelacademy.org/wp-comments-post.php" method="post" id="commentform" class="comment-form form-horizontal" novalidate>																			<p class="comment-notes alert alert-info"> 标记为<span class="required">*</span>的字段是必填项（邮箱地址不会被公开）</p>														<div class="col-sm-5">								<div class="form-group comment-form-author"><label class="sr-only control-label" for="author">名字 <span class="required">*</span></label> <div class="input-group"><span class="input-group-addon"><span class="glyphicon ipt-icon-user"></span></span><input placeholder="名字 *" class="form-control" id="author" name="author" type="text" value="" size="30" aria-required='true' /></div></div><div class="form-group comment-form-email"><label class="sr-only control-label" for="email">邮箱 <span class="required">*</span></label> <div class="input-group"><span class="input-group-addon"><span class="glyphicon ipt-icon-mail"></span></span><input placeholder="邮箱 *" class="form-control" id="email" name="email" type="email" value="" size="30" aria-required='true' /></div></div><div class="form-group comment-form-url"><label class="sr-only control-label" for="url">站点</label> <div class="input-group"><span class="input-group-addon"><span class="glyphicon ipt-icon-link"></span></span><input placeholder="站点" class="form-control" id="url" name="url" type="url" value="" size="30" /></div></div>							</div>							<div class="col-sm-7">								<div class="comment-form-comment form-group"><label class="sr-only control-label" for="comment">评论内容</label><textarea placeholder="评论内容" class="form-control" id="comment" name="comment" rows="6" aria-required="true"></textarea></div>							</div>							<div class="clearfix"></div>							<div class="col-sm-12">															</div>							<div class="clearfix"></div>												<p class="form-allowed-tags well well-sm">你可以使用这些<abbr title="HyperText Markup Language">HTML</abbr> 标签和属性:  <code>&lt;a href=&quot;&quot; title=&quot;&quot;&gt; &lt;abbr title=&quot;&quot;&gt; &lt;acronym title=&quot;&quot;&gt; &lt;b&gt; &lt;blockquote cite=&quot;&quot;&gt; &lt;cite&gt; &lt;code&gt; &lt;del datetime=&quot;&quot;&gt; &lt;em&gt; &lt;i&gt; &lt;q cite=&quot;&quot;&gt; &lt;s&gt; &lt;strike&gt; &lt;strong&gt; </code></p>						<p class="form-submit text-right">							<button name="submit" class="btn btn-primary" type="submit" id="submit">提交评论</button>							<input type='hidden' name='comment_post_ID' value='1986' id='comment_post_ID' /><input type='hidden' name='comment_parent' id='comment_parent' value='0' />						</p>						<p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="1757434019" /></p><p style="display: none;"><input type="hidden" id="ak_js" name="ak_js" value="181"/></p>					</form>							</div><!-- #respond -->						</div><!-- #comments -->				</main><!-- #main -->	</div><!-- #primary -->	<div id="secondary" class="widget-area col-md-4" role="complementary">										<div class="company-ads" style="margin-bottom:5px;">				<a href="https://www.mysubmail.com/sms?s=laravelacademy" target="_blank"><img src="http://laravelacademy.org/wp-content/uploads/2016/12/submail_ad_for_larvavel_700x180.jpg" width="350"></a>			</div>			<!--<div class="forum-20160919142357">                           <a href="http://www.henghost.com/ul-xinyunhost.shtml" target="_blank">                               <img src="http://laravelacademy.org/wp-content/uploads/2016/09/20160919142222.gif" width="100%" border="0" alt="恒创主机"/>                           </a>                        </div>-->        		<div class="forum-20160919142357"><script charset="utf-8" language="JavaScript" type="text/javascript" src="https://adman.henghost.com/data/forum-20160919142357.js"></script></div>			<div class="google-ads" style="text-align:center;margin-bottom:10px;margin-top:10px;">				<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>				<!-- Laravel侧边栏大矩形广告 -->				<ins class="adsbygoogle"				     style="display:inline-block;width:336px;height:280px"				     data-ad-client="ca-pub-6544917749399342"				     data-ad-slot="6375165315"></ins>				<script>				(adsbygoogle = window.adsbygoogle || []).push({});				</script>			</div>						<aside id="ipt_kb_affix-2" class="widget ipt_kb_affix panel panel-default"><div class="panel-heading"><h3 class="widget-title panel-title">教程</h3></div><div class="panel-body"><!-- Stick it or not --><input type="hidden" class="dontfix" value="1" /><!-- Search form --><form role="search" method="get" class="search-form" action="http://laravelacademy.org/">	<input type="hidden" name="cat" value="578" />	<div class="form-group">		<div class="input-group input-group-sm">			<input type="search" class="search-field form-control" placeholder="搜索&hellip;" value="" name="s" />			<span class="input-group-btn"><button type="submit" class="btn btn-default"><span class="ipt-icon-search"></span></button></span>		</div>	</div></form><!-- TOC for single posts --><div class="text-muted ipt-kb-toc">	<a href="#ipt-kb-toc-scrollspy" title="点击显示/隐藏内容目录" class="bstooltip pull-right btn btn-xs btn-default accordion-toggle ipt-kb-sub-toc-toggle" data-toggle="collapse"><i class="glyphicon ipt-icon-menu"></i></a>	<h4>		内容目录	</h4>	<div class="clearfix"></div></div><nav id="ipt-kb-toc-scrollspy" class="collapse in">	<ul class="nav">					<li>			<a href="#ipt_kb_toc_1986_0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1、配置文件</a></li>					<li>			<a href="#ipt_kb_toc_1986_1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2、定义路由</a></li>					<li>			<a href="#ipt_kb_toc_1986_2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3、邮件发送逻辑实现</a></li>					<li>			<a href="#ipt_kb_toc_1986_3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;创建控制器</a></li>					<li>			<a href="#ipt_kb_toc_1986_4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;简单邮件发送实现</a></li>					<li>			<a href="#ipt_kb_toc_1986_5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;更简单的纯文本邮件发送</a></li>					<li>			<a href="#ipt_kb_toc_1986_6">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;发送带附件的邮件（中文乱码解决）</a></li>					<li>			<a href="#ipt_kb_toc_1986_7">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;发送带图片的邮件</a></li>			</ul></nav>		<!-- Get support --><!-- Category Listing --><div class="list-group">							<a href="http://laravelacademy.org/tutorials/vuejs" class="list-group-item "><i class="glyphicon ipt-icon-books"></i>Vue.js教程</a>						<a href="http://laravelacademy.org/tutorials/blog" class="list-group-item "><i class="glyphicon ipt-icon-books"></i>博客系列</a>						<div class="list-group-item active-cat"><a href="#ipt-kb-affix-active-post" title="点击显示/隐藏当前所属分类下的所有文章" class="bstooltip accordion-toggle pull-right btn btn-default btn-xs text-center ipt-kb-sub-cat-toggle collapsed" data-toggle="collapse">	<i class="glyphicon ipt-icon-enter"></i></a><i class="glyphicon ipt-icon-books"></i>基础教程</div>		<div id="ipt-kb-affix-active-post" class="collapse"><a href="http://laravelacademy.org/post/153.html" class="list-group-item ">Laravel 精选资源大全（持续更新）</a>				<a href="http://laravelacademy.org/post/306.html" class="list-group-item ">在 Windows 中安装 Laravel 5.1.X</a>				<a href="http://laravelacademy.org/post/354.html" class="list-group-item ">在 Windows 上进行 Laravel Homestead 安装、配置及测试</a>				<a href="http://laravelacademy.org/post/377.html" class="list-group-item ">在Laravel Homestead中使用Blackfire Profiler对应用性能进行分析</a>				<a href="http://laravelacademy.org/post/398.html" class="list-group-item ">HTTP路由实例教程（一）—— 基本使用及路由参数</a>				<a href="http://laravelacademy.org/post/417.html" class="list-group-item ">HTTP路由实例教程（二）—— 路由命名和路由分组</a>				<a href="http://laravelacademy.org/post/525.html" class="list-group-item ">HTTP路由实例教程（三）—— CSRF攻击原理及其防护</a>				<a href="http://laravelacademy.org/post/537.html" class="list-group-item ">中间件实例教程 —— 中间件的创建使用及中间件参数定义</a>				<a href="http://laravelacademy.org/post/549.html" class="list-group-item ">HTTP控制器实例教程 —— 创建RESTFul风格控制器实现文章增删改查</a>				<a href="http://laravelacademy.org/post/606.html" class="list-group-item ">HTTP 请求实例教程 —— 获取请求数据、Cookie及文件上传处理</a>				<a href="http://laravelacademy.org/post/623.html" class="list-group-item ">HTTP响应实例教程 —— 基本使用、生成Cookie、返回视图、JSON/JSONP、文件下载及重定向</a>				<a href="http://laravelacademy.org/post/697.html" class="list-group-item ">Laravel 视图实例教程 —— 在视图间共享数据及视图Composer</a>				<a href="http://laravelacademy.org/post/727.html" class="list-group-item ">Laravel 5.x 启动过程分析</a>				<a href="http://laravelacademy.org/post/769.html" class="list-group-item ">Laravel 服务容器实例教程  —— 深入理解控制反转（IoC）和依赖注入（DI）</a>				<a href="http://laravelacademy.org/post/796.html" class="list-group-item ">Laravel 服务提供者实例教程 —— 创建 Service Provider 测试实例</a>				<a href="http://laravelacademy.org/post/817.html" class="list-group-item ">Laravel 门面实例教程 —— 创建自定义 Facades 类</a>				<a href="http://laravelacademy.org/post/832.html" class="list-group-item ">Laravel Spark 牛刀初试 —— 安装、设置及使用</a>				<a href="http://laravelacademy.org/post/854.html" class="list-group-item ">Laravel 数据库实例教程 —— 使用DB门面操作数据库</a>				<a href="http://laravelacademy.org/post/908.html" class="list-group-item ">Laravel 数据库实例教程 —— 使用查询构建器对数据库进行增删改查</a>				<a href="http://laravelacademy.org/post/920.html" class="list-group-item ">Laravel 数据库实例教程 —— 使用查询构建器实现对数据库的高级查询</a>				<a href="http://laravelacademy.org/post/966.html" class="list-group-item ">Eloquent ORM 实例教程 —— ORM概述、模型定义及基本查询</a>				<a href="http://laravelacademy.org/post/984.html" class="list-group-item ">Eloquent ORM 实例教程 —— 模型创建、更新及批量赋值</a>				<a href="http://laravelacademy.org/post/1020.html" class="list-group-item ">Eloquent ORM 实例教程 —— 模型删除及软删除相关实现</a>				<a href="http://laravelacademy.org/post/1073.html" class="list-group-item ">Eloquent ORM 实例教程 —— 查询作用域和模型事件</a>				<a href="http://laravelacademy.org/post/1095.html" class="list-group-item ">Eloquent ORM 实例教程 —— 关联关系及其在模型中的定义（一）</a>				<a href="http://laravelacademy.org/post/1150.html" class="list-group-item ">在 Windows 上快速安装 Flarum 指南</a>				<a href="http://laravelacademy.org/post/1174.html" class="list-group-item ">Eloquent ORM 实例教程 —— 关联关系及其在模型中的定义（二）</a>				<a href="http://laravelacademy.org/post/1219.html" class="list-group-item ">Laravel 实例教程 —— 如何在Laravel 5.1中进行自定义包开发</a>				<a href="http://laravelacademy.org/post/1258.html" class="list-group-item ">Laravel 5.1用户认证（一） —— 使用Laravel内置组件快速实现注册登录</a>				<a href="http://laravelacademy.org/post/1290.html" class="list-group-item ">Laravel 5.1用户认证（二） —— 使用Laravel内置组件快速实现密码重置</a>				<a href="http://laravelacademy.org/post/1305.html" class="list-group-item ">Laravel 5.1用户认证（三） —— 使用Socialite实现GitHub登录认证</a>				<a href="http://laravelacademy.org/post/1337.html" class="list-group-item ">Laravel 5.1 中的ACL用户授权及权限检查功能实现教程</a>				<a href="http://laravelacademy.org/post/1374.html" class="list-group-item ">Laravel 5.1 中创建自定义 Artisan 控制台命令实例教程</a>				<a href="http://laravelacademy.org/post/1403.html" class="list-group-item ">Laravel 支付解决方案之 Laravel Cashier （一）—— 安装配置篇</a>				<a href="http://laravelacademy.org/post/1432.html" class="list-group-item ">Laravel 支付解决方案之 Laravel Cashier （二）—— 付费会员&#038;分期付款&#038;生成发票</a>				<a href="http://laravelacademy.org/post/1475.html" class="list-group-item ">Laravel 支付解决方案之如何使用支付宝进行支付</a>				<a href="http://laravelacademy.org/post/1492.html" class="list-group-item ">Laravel 支付解决方案之如何使用银联支付进行支付</a>				<a href="http://laravelacademy.org/post/1501.html" class="list-group-item ">Laravel 支付解决方案之如何使用微信支付进行支付</a>				<a href="http://laravelacademy.org/post/1649.html" class="list-group-item ">Laravel 缓存实例教程（一） —— 基于Memcached缓存驱动的配置</a>				<a href="http://laravelacademy.org/post/1659.html" class="list-group-item ">如何在Windows上快速安装配置PyroCMS</a>				<a href="http://laravelacademy.org/post/1688.html" class="list-group-item ">Laravel 缓存实例教程（二） —— 基于模型+缓存对文章增删改查进行优化</a>				<a href="http://laravelacademy.org/post/1755.html" class="list-group-item ">Laravel中运行Gulp任务的利器 —— Laravel Elixir简介及入门教程</a>				<a href="http://laravelacademy.org/post/1770.html" class="list-group-item ">如何在 Laravel 5.1 中使用 Laravel Elixir 集成安装 Bootstrap</a>				<a href="http://laravelacademy.org/post/1783.html" class="list-group-item ">Laravel Elixir 深入探究（一）：Elixir配置选项、前端资源文件编译及合并</a>				<a href="http://laravelacademy.org/post/1803.html" class="list-group-item ">Laravel Elixir 深入探究（二）：版本控制、测试套件、任务执行以及自定义任务和扩展</a>				<a href="http://laravelacademy.org/post/1839.html" class="list-group-item ">Laravel 5.1中 Redis 的安装配置及基本使用教程</a>				<a href="http://laravelacademy.org/post/1854.html" class="list-group-item ">Laravel 5.1 分页功能实现及如何自定义分页样式</a>				<a href="http://laravelacademy.org/post/1867.html" class="list-group-item ">Laravel 5.1 中的异常处理器和HTTP异常处理实例教程</a>				<a href="http://laravelacademy.org/post/1878.html" class="list-group-item ">基于 Laravel 集成的 Monolog 库对日志进行配置和记录</a>				<a href="http://laravelacademy.org/post/1889.html" class="list-group-item ">Laravel 5.1 定义事件、事件监听器以及触发事件实例教程</a>				<a href="http://laravelacademy.org/post/1911.html" class="list-group-item ">使用 Laravel 5.1 的文件系统对文件进行存储、移动和删除操作</a>				<a href="http://laravelacademy.org/post/1947.html" class="list-group-item ">使用 Laravel 5.1 内置的本地化功能轻松实现多语言支持</a>				<a href="http://laravelacademy.org/post/1986.html" class="list-group-item active">在 Laravel 5.1 中使用SMTP驱动实现邮件发送（含附件和图片）详细教程</a>				<a href="http://laravelacademy.org/post/2012.html" class="list-group-item ">Laravel 队列系列 —— 基于 Redis 实现任务队列的基本配置和使用</a>				<a href="http://laravelacademy.org/post/2045.html" class="list-group-item ">Laravel 5.1 中 Session 数据存储、访问、删除及一次性Session实例教程</a>				<a href="http://laravelacademy.org/post/2070.html" class="list-group-item ">如何在新浪云 SAE 上安装部署 Laravel 5.1 应用并测试数据库连接</a>				<a href="http://laravelacademy.org/post/2100.html" class="list-group-item ">Laravel 5.1 测试系列 —— PHPUnit 安装及简单单元测试示例</a>				<a href="http://laravelacademy.org/post/4935.html" class="list-group-item ">使用 Php Artisan Tinker 来调试你的 Laravel</a>				<a href="http://laravelacademy.org/post/5075.html" class="list-group-item ">使用 Laravel 纯手工打造一个简单的电子商务网站（一） —— 后台新增商品及前台显示</a>				<a href="http://laravelacademy.org/post/5114.html" class="list-group-item ">使用 Laravel 纯手工打造一个简单的电子商务网站（二） —— 用户认证及购物车功能实现</a>				<a href="http://laravelacademy.org/post/5679.html" class="list-group-item ">在 Mac 开发环境 Laravel Valet 中配置运行 Flarum 论坛系统</a>				<a href="http://laravelacademy.org/post/5925.html" class="list-group-item ">Laravel 5.3 多用户表登录实现</a>				<a href="http://laravelacademy.org/post/6440.html" class="list-group-item ">Laravel 5.3 后台开发实例 —— 基于权限自动生成菜单栏及前后端用户分表登录</a>				<a href="http://laravelacademy.org/post/6449.html" class="list-group-item ">使用 Lumen 框架创建 REST API 实例教程</a>				<a href="http://laravelacademy.org/post/6456.html" class="list-group-item ">Laravel 5 中基于 jQuery 实现分层级的类目树结构实例教程</a>				<a href="http://laravelacademy.org/post/6481.html" class="list-group-item ">将 Sequel Pro 中已存在的数据表导出为 Laravel 迁移文件</a>				<a href="http://laravelacademy.org/post/6486.html" class="list-group-item ">将 MySQL Workbench 中已存在的数据表导出到 Laravel 迁移文件</a>				<a href="http://laravelacademy.org/post/6569.html" class="list-group-item ">基于 LaraDock 在 Docker 中快速构建 Laravel 应用系列教程 —— 搭建开发环境</a>				<a href="http://laravelacademy.org/post/6576.html" class="list-group-item ">基于 LaraDock 在 Docker 中快速构建 Laravel 应用系列教程 —— 常用Docker命令</a>				<a href="http://laravelacademy.org/post/6582.html" class="list-group-item ">基于 LaraDock 在 Docker 中快速构建 Laravel 应用系列教程 —— 工具软件使用</a>				</div>				<a href="http://laravelacademy.org/tutorials/feature" class="list-group-item "><i class="glyphicon ipt-icon-books"></i>新特性系列</a>					</div>		</div></aside><div class="pin-wrapper"><div class="pinned"><aside id="wp_related_posts_widget" class="widget widget_wp_related_posts panel panel-default"><div class="panel-heading"><h3 class="widget-title panel-title">相关文章</h3></div><div class="panel-body"><div class="list-group"><a href="http://laravelacademy.org/post/3239.html" class="wp_rp_title list-group-item kb-list-date kb-post-list"><h3><span class="glyphicon ipt-icon-file"></span>  [ Laravel 5.2 文档 ] 服务 —— 邮件</h3><span class="clearfix"></span></a><a href="http://laravelacademy.org/post/213.html" class="wp_rp_title list-group-item kb-list-date kb-post-list"><h3><span class="glyphicon ipt-icon-file"></span>  [ Laravel 5.1 文档 ] 服务 —— 邮件</h3><span class="clearfix"></span></a><a href="http://laravelacademy.org/post/6095.html" class="wp_rp_title list-group-item kb-list-date kb-post-list"><h3><span class="glyphicon ipt-icon-file"></span>  [ Laravel 5.3 文档 ] 综合话题 —— 邮件</h3><span class="clearfix"></span></a><a href="http://laravelacademy.org/post/6899.html" class="wp_rp_title list-group-item kb-list-date kb-post-list"><h3><span class="glyphicon ipt-icon-file"></span>  [ Laravel 5.4 文档 ] 综合话题 —— 邮件</h3><span class="clearfix"></span></a><a href="http://laravelacademy.org/post/2605.html" class="wp_rp_title list-group-item kb-list-date kb-post-list"><h3><span class="glyphicon ipt-icon-file"></span>  在 Laravel 5 中通过 Simple QrCode 扩展包生成二维码详解</h3><span class="clearfix"></span></a></div></div></aside>							<div class="google-ads" style="text-align:center;"><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><!-- Laravel侧边栏矩形滚动广告 --><ins class="adsbygoogle"     style="display:inline-block;width:336px;height:280px"     data-ad-client="ca-pub-6544917749399342"     data-ad-slot="3421636513"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script>				</div>						</div></div>			</div><!-- #secondary -->	</div><!-- #content -->	<footer id="colophon" class="site-footer" role="contentinfo">		<div class="site-info">			<p class="copyright text-muted">				&copy; 2015-2017 Laravel Academy                |		        <a href="http://www.miitbeian.gov.cn/" target="_blank">浙ICP备16003554号</a>                |		<a href="http://forum.laravelacademy.org" target="_blank">社区</a>		|                <a href="http://laravelacademy.org/feed">订阅</a>                |                <a href="http://laravelacademy.org/about-us#ads">广告</a>                |                <a href="http://laravelacademy.org/donate-us">捐赠</a>		        |		        <a href="http://gjsq.me/15561494" target="_blank">VPN</a>                |                <script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_1256294264'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s4.cnzz.com/stat.php%3Fid%3D1256294264' type='text/javascript'%3E%3C/script%3E"));</script>			</p>		</div><!-- .site-info -->		<div class="scroll-back-to-top-wrapper">	<span class="scroll-back-to-top-inner">					<i class="fa fa-2x fa-arrow-up"></i>			</span></div><script type='text/javascript' src='http://laravelacademy.org/wp-content/plugins/akismet/_inc/form.js?ver=3.3'></script><script type='text/javascript'>/* <![CDATA[ */var scrollBackToTop = {"scrollDuration":"500","fadeDuration":"0.5"};/* ]]> */</script><script type='text/javascript' src='http://laravelacademy.org/wp-content/plugins/scroll-back-to-top/assets/js/scroll-back-to-top.js'></script><script type='text/javascript'>/* <![CDATA[ */var viewsCacheL10n = {"admin_ajax_url":"http:\/\/laravelacademy.org\/wp-admin\/admin-ajax.php","post_id":"1986"};/* ]]> */</script><script type='text/javascript' src='http://laravelacademy.org/wp-content/plugins/wp-postviews/postviews-cache.js?ver=1.68'></script><script type='text/javascript' src='http://laravelacademy.org/wp-content/themes/wp-knowledge-base/js/skip-link-focus-fix.js?ver=1.6.0'></script><script type='text/javascript' src='http://laravelacademy.org/wp-content/themes/wp-knowledge-base/js/jquery.pin.js?ver=1.6.0'></script><script type='text/javascript' src='http://laravelacademy.org/wp-includes/js/comment-reply.min.js?ver=4.7.3'></script><script type='text/javascript' src='http://laravelacademy.org/wp-includes/js/wp-embed.min.js?ver=4.7.3'></script>	</footer><!-- #colophon --></div><!-- #page -->    <script type="text/javascript">        jQuery(document).ready(function() {            var s = jQuery(".pinned");            var pos = s.position();            jQuery(window).scroll(function() {                var windowpos = jQuery(window).scrollTop();                if (windowpos >= pos.top) {                    s.addClass("stick");                } else {                    s.removeClass("stick");                }            });        });    </script><script type="text/javascript" src="http://v3.jiathis.com/code/jia.js" charset="utf-8"></script><script>var _hmt = _hmt || [];(function() {  var hm = document.createElement("script");  hm.src = "//hm.baidu.com/hm.js?0149df826a6be49c34721817692bbf7f";  var s = document.getElementsByTagName("script")[0];   s.parentNode.insertBefore(hm, s);})();</script><script>    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');    ga('create', 'UA-66519426-1', 'auto');    ga('send', 'pageview');</script></body></html><!-- Dynamic page generated in 0.593 seconds. --><!-- Cached page generated by WP-Super-Cache on 2017-03-27 18:00:26 --><!-- Super Cache dynamic page detected but late init not set. See the readme.txt for further details. --><!-- Dynamic Super Cache -->